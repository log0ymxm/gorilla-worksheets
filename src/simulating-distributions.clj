;; gorilla-repl.fileformat = 1

;; **
;;; # Simulating Distributions
;;; 
;; **

;; @@
(ns distribution-simulations
  (:refer-clojure :exclude [== + * - /])
  (:require [gorilla-plot.core :as plot]
            [incanter.core :refer [factorial]]
            [criterium.core :refer [bench with-progress-reporting]])
  (:use clojure.core.matrix
        clojure.core.matrix.operators))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(def n 1000000)

(defn beta
  "Generate a sequence from the beta distribution using the rejection method."
  [a b]
  (let [L (/ (factorial (+ a b 1))
             (* (factorial a) (factorial b)))
        r (/ a (+ a b))
        c (* L (** r a) (** (- 1 r) b))]
    (filter (fn [y]
              (< (rand)
                 (/ (* L (** y a) (** (- 1 y) b)) c)))
            (repeatedly rand))))

(def sample (take n (beta 7 3)))

(defn beta-density [a b]
  (fn [x]
    (let [L (/ (factorial (+ a b 1))
             (* (factorial a) (factorial b)))]
      (* L (** x a) (** (- 1 x) b)))))

(plot/compose
  (plot/histogram sample
                  :bins 50
                  :normalize :probability-density)
  (plot/plot (beta-density 7 3) [0 1]))

;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"21ae5ebb-b583-4929-a5e6-1a6605119337","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"21ae5ebb-b583-4929-a5e6-1a6605119337","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"21ae5ebb-b583-4929-a5e6-1a6605119337","values":[{"x":0.11054214935581874,"y":0},{"x":0.12815777488709224,"y":3.973744779924338E-4},{"x":0.14577340041836573,"y":5.109100431331292E-4},{"x":0.16338902594963922,"y":0.0011921234339773014},{"x":0.18100465148091271,"y":0.0030086924762284277},{"x":0.1986202770121862,"y":0.006357991647878941},{"x":0.2162359025434597,"y":0.011807698774632319},{"x":0.2338515280747332,"y":0.017598012596807783},{"x":0.2514671536060067,"y":0.028100052372322104},{"x":0.2690827791372802,"y":0.04325705031860494},{"x":0.2866984046685537,"y":0.06602093112931436},{"x":0.30431403019982717,"y":0.09116905880797839},{"x":0.32192965573110066,"y":0.12852225973926718},{"x":0.33954528126237415,"y":0.17563951927265575},{"x":0.35716090679364765,"y":0.22321092106660712},{"x":0.37477653232492114,"y":0.29706580619062944},{"x":0.39239215785619463,"y":0.3808550532644626},{"x":0.4100077833874681,"y":0.47406775224497355},{"x":0.4276234089187416,"y":0.5823239136066266},{"x":0.4452390344500151,"y":0.7166364871680692},{"x":0.4628546599812886,"y":0.8443072301687812},{"x":0.4804702855125621,"y":1.0285186846095593},{"x":0.4980859110438356,"y":1.170494908817999},{"x":0.5157015365751091,"y":1.3520950452605411},{"x":0.5333171621063826,"y":1.5560049202532302},{"x":0.5509327876376561,"y":1.7505481111218117},{"x":0.5685484131689296,"y":1.9400957371242027},{"x":0.5861640387002031,"y":2.110285549270105},{"x":0.6037796642314766,"y":2.319985738084969},{"x":0.62139528976275,"y":2.4947169728364993},{"x":0.6390109152940235,"y":2.6599679878987814},{"x":0.656626540825297,"y":2.7487527998388055},{"x":0.6742421663565705,"y":2.8408301431679095},{"x":0.691857791887844,"y":2.9267765659794156},{"x":0.7094734174191175,"y":2.9495972145726954},{"x":0.727089042950391,"y":2.904239756298988},{"x":0.7447046684816645,"y":2.835096597128304},{"x":0.762320294012938,"y":2.740067329105542},{"x":0.7799359195442115,"y":2.5427425168910136},{"x":0.797551545075485,"y":2.3572821712336878},{"x":0.8151671706067585,"y":2.110626155965527},{"x":0.832782796138032,"y":1.8442149523628852},{"x":0.8503984216693055,"y":1.5716160604600757},{"x":0.868014047200579,"y":1.2750611643125793},{"x":0.8856296727318524,"y":0.9856022409863766},{"x":0.9032452982631259,"y":0.721177909773697},{"x":0.9208609237943994,"y":0.4708319886384637},{"x":0.9384765493256729,"y":0.2815114337663542},{"x":0.9560921748569464,"y":0.13266630786690253},{"x":0.9737078003882199,"y":0.0453574582737078},{"x":0.9913234259194934,"y":0.008912541863544588},{"x":1.008939051450767,"y":5.676778257034769E-5},{"x":1.0265546769820406,"y":0}]},{"name":"3499fb19-9c28-4840-994e-2b6d20bf6ff4","values":[{"x":0,"y":0.0},{"x":0.009999999776482582,"y":1.2807944804715844E-11},{"x":0.019999999552965164,"y":1.590237756564091E-9},{"x":0.029999999329447746,"y":2.6347405165468033E-8},{"x":0.03999999910593033,"y":1.913407636338019E-7},{"x":0.04999999888241291,"y":8.84167833531575E-7},{"x":0.05999999865889549,"y":3.0691363195692355E-6},{"x":0.06999999843537807,"y":8.743976690463636E-6},{"x":0.07999999821186066,"y":2.1555954427801406E-5},{"x":0.08999999798834324,"y":4.7576841737891E-5},{"x":0.09999999776482582,"y":9.622798566091149E-5},{"x":0.1099999975413084,"y":1.8133961230572387E-4},{"x":0.11999999731779099,"y":3.223224874861588E-4},{"x":0.12999999709427357,"y":5.454250644352858E-4},{"x":0.13999999687075615,"y":8.850452416279515E-4},{"x":0.14999999664723873,"y":0.0013850627801486025},{"x":0.1599999964237213,"y":0.0021001562426009265},{"x":0.1699999962002039,"y":0.0030970669663680133},{"x":0.17999999597668648,"y":0.004455772025196398},{"x":0.18999999575316906,"y":0.006270528316694346},{"x":0.19999999552965164,"y":0.008650750791503974},{"x":0.20999999530613422,"y":0.011721689364728003},{"x":0.2199999950826168,"y":0.015624871173765126},{"x":0.2299999948590994,"y":0.020518277521132885},{"x":0.23999999463558197,"y":0.026576228018233394},{"x":0.24999999441206455,"y":0.033988948078445234},{"x":0.25999999418854713,"y":0.042961799947504126},{"x":0.2699999939650297,"y":0.053714161857965285},{"x":0.2799999937415123,"y":0.06647794460472192},{"x":0.2899999935179949,"y":0.0814957398121864},{"x":0.29999999329447746,"y":0.09901859935292376},{"x":0.30999999307096004,"y":0.11930345073436079},{"x":0.3199999928474426,"y":0.1426101587467772},{"x":0.3299999926239252,"y":0.169198249214221},{"x":0.3399999924004078,"y":0.1993233162623725},{"x":0.3499999921768904,"y":0.2332331400658178},{"x":0.35999999195337296,"y":0.27116354751377414},{"x":0.36999999172985554,"y":0.3133340535901465},{"x":0.3799999915063381,"y":0.35994332645297417},{"x":0.3899999912828207,"y":0.411164524171962},{"x":0.3999999910593033,"y":0.4671405557929706},{"x":0.40999999083578587,"y":0.5279793237971725},{"x":0.41999999061226845,"y":0.5937490090621579},{"x":0.42999999038875103,"y":0.6644734630647064},{"x":0.4399999901652336,"y":0.7401277752423158},{"x":0.4499999899417162,"y":0.8206340861050027},{"x":0.4599999897181988,"y":0.9058577188124691},{"x":0.46999998949468136,"y":0.9956037034565456},{"x":0.47999998927116394,"y":1.0896137691669936},{"x":0.4899999890476465,"y":1.187563879342373},{"x":0.4999999888241291,"y":1.2890623847488334},{"x":0.5099999886006117,"y":1.3936488678805152},{"x":0.5199999883770943,"y":1.5007937497878026},{"x":0.5299999881535769,"y":1.6098987275060679},{"x":0.5399999879300594,"y":1.7202981062099234},{"x":0.549999987706542,"y":1.8312610852283753},{"x":0.5599999874830246,"y":1.9419950510368416},{"x":0.5699999872595072,"y":2.0516499232447822},{"x":0.5799999870359898,"y":2.1593235913748297},{"x":0.5899999868124723,"y":2.2640684708329073},{"x":0.5999999865889549,"y":2.3648991958509473},{"x":0.6099999863654375,"y":2.4608014552966013},{"x":0.6199999861419201,"y":2.5507419640398714},{"x":0.6299999859184027,"y":2.633679547996956},{"x":0.6399999856948853,"y":2.70857730498892},{"x":0.6499999854713678,"y":2.7744157861091687},{"x":0.6599999852478504,"y":2.830207123341214},{"x":0.669999985024333,"y":2.8750100086589603},{"x":0.6799999848008156,"y":2.907945407727869},{"x":0.6899999845772982,"y":2.92821286755887},{"x":0.6999999843537807,"y":2.935107251999983},{"x":0.7099999841302633,"y":2.9280357117353835},{"x":0.7199999839067459,"y":2.9065346664500646},{"x":0.7299999836832285,"y":2.8702865459626143},{"x":0.7399999834597111,"y":2.8191360043808795},{"x":0.7499999832361937,"y":2.7531052866475894},{"x":0.7599999830126762,"y":2.6724083901674813},{"x":0.7699999827891588,"y":2.5774636254961556},{"x":0.7799999825656414,"y":2.4689041392759337},{"x":0.789999982342124,"y":2.3475859196774826},{"x":0.7999999821186066,"y":2.214592759499983},{"x":0.8099999818950891,"y":2.071237604749305},{"x":0.8199999816715717,"y":1.9190596669050566},{"x":0.8299999814480543,"y":1.7598166251556389},{"x":0.8399999812245369,"y":1.5954711905776262},{"x":0.8499999810010195,"y":1.4281712475140458},{"x":0.8599999807775021,"y":1.260222728217505},{"x":0.8699999805539846,"y":1.0940543151207494},{"x":0.8799999803304672,"y":0.9321730008311944},{"x":0.8899999801069498,"y":0.7771094690693886},{"x":0.8999999798834324,"y":0.6313521902363203},{"x":0.909999979659915,"y":0.4972690530530667},{"x":0.9199999794363976,"y":0.3770152787206278},{"x":0.9299999792128801,"y":0.2724262862499537},{"x":0.9399999789893627,"y":0.18489409696430187},{"x":0.9499999787658453,"y":0.11522578263021246},{"x":0.9599999785423279,"y":0.06348237518169063},{"x":0.9699999783188105,"y":0.028796566516726324},{"x":0.979999978095293,"y":0.009167434318161433},{"x":0.9899999778717756,"y":0.001230334234235146},{"x":0.9999999776482582,"y":1.4740356209386295E-20}]}],"marks":[{"type":"line","from":{"data":"21ae5ebb-b583-4929-a5e6-1a6605119337"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"3499fb19-9c28-4840-994e-2b6d20bf6ff4"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"21ae5ebb-b583-4929-a5e6-1a6605119337\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"21ae5ebb-b583-4929-a5e6-1a6605119337\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"21ae5ebb-b583-4929-a5e6-1a6605119337\", :values ({:x 0.11054214935581874, :y 0} {:x 0.12815777488709224, :y 3.973744779924338E-4} {:x 0.14577340041836573, :y 5.109100431331292E-4} {:x 0.16338902594963922, :y 0.0011921234339773014} {:x 0.18100465148091271, :y 0.0030086924762284277} {:x 0.1986202770121862, :y 0.006357991647878941} {:x 0.2162359025434597, :y 0.011807698774632319} {:x 0.2338515280747332, :y 0.017598012596807783} {:x 0.2514671536060067, :y 0.028100052372322104} {:x 0.2690827791372802, :y 0.04325705031860494} {:x 0.2866984046685537, :y 0.06602093112931436} {:x 0.30431403019982717, :y 0.09116905880797839} {:x 0.32192965573110066, :y 0.12852225973926718} {:x 0.33954528126237415, :y 0.17563951927265575} {:x 0.35716090679364765, :y 0.22321092106660712} {:x 0.37477653232492114, :y 0.29706580619062944} {:x 0.39239215785619463, :y 0.3808550532644626} {:x 0.4100077833874681, :y 0.47406775224497355} {:x 0.4276234089187416, :y 0.5823239136066266} {:x 0.4452390344500151, :y 0.7166364871680692} {:x 0.4628546599812886, :y 0.8443072301687812} {:x 0.4804702855125621, :y 1.0285186846095593} {:x 0.4980859110438356, :y 1.170494908817999} {:x 0.5157015365751091, :y 1.3520950452605411} {:x 0.5333171621063826, :y 1.5560049202532302} {:x 0.5509327876376561, :y 1.7505481111218117} {:x 0.5685484131689296, :y 1.9400957371242027} {:x 0.5861640387002031, :y 2.110285549270105} {:x 0.6037796642314766, :y 2.319985738084969} {:x 0.62139528976275, :y 2.4947169728364993} {:x 0.6390109152940235, :y 2.6599679878987814} {:x 0.656626540825297, :y 2.7487527998388055} {:x 0.6742421663565705, :y 2.8408301431679095} {:x 0.691857791887844, :y 2.9267765659794156} {:x 0.7094734174191175, :y 2.9495972145726954} {:x 0.727089042950391, :y 2.904239756298988} {:x 0.7447046684816645, :y 2.835096597128304} {:x 0.762320294012938, :y 2.740067329105542} {:x 0.7799359195442115, :y 2.5427425168910136} {:x 0.797551545075485, :y 2.3572821712336878} {:x 0.8151671706067585, :y 2.110626155965527} {:x 0.832782796138032, :y 1.8442149523628852} {:x 0.8503984216693055, :y 1.5716160604600757} {:x 0.868014047200579, :y 1.2750611643125793} {:x 0.8856296727318524, :y 0.9856022409863766} {:x 0.9032452982631259, :y 0.721177909773697} {:x 0.9208609237943994, :y 0.4708319886384637} {:x 0.9384765493256729, :y 0.2815114337663542} {:x 0.9560921748569464, :y 0.13266630786690253} {:x 0.9737078003882199, :y 0.0453574582737078} {:x 0.9913234259194934, :y 0.008912541863544588} {:x 1.008939051450767, :y 5.676778257034769E-5} {:x 1.0265546769820406, :y 0})} {:name \"3499fb19-9c28-4840-994e-2b6d20bf6ff4\", :values ({:x 0, :y 0.0} {:x 0.009999999776482582, :y 1.2807944804715844E-11} {:x 0.019999999552965164, :y 1.590237756564091E-9} {:x 0.029999999329447746, :y 2.6347405165468033E-8} {:x 0.03999999910593033, :y 1.913407636338019E-7} {:x 0.04999999888241291, :y 8.84167833531575E-7} {:x 0.05999999865889549, :y 3.0691363195692355E-6} {:x 0.06999999843537807, :y 8.743976690463636E-6} {:x 0.07999999821186066, :y 2.1555954427801406E-5} {:x 0.08999999798834324, :y 4.7576841737891E-5} {:x 0.09999999776482582, :y 9.622798566091149E-5} {:x 0.1099999975413084, :y 1.8133961230572387E-4} {:x 0.11999999731779099, :y 3.223224874861588E-4} {:x 0.12999999709427357, :y 5.454250644352858E-4} {:x 0.13999999687075615, :y 8.850452416279515E-4} {:x 0.14999999664723873, :y 0.0013850627801486025} {:x 0.1599999964237213, :y 0.0021001562426009265} {:x 0.1699999962002039, :y 0.0030970669663680133} {:x 0.17999999597668648, :y 0.004455772025196398} {:x 0.18999999575316906, :y 0.006270528316694346} {:x 0.19999999552965164, :y 0.008650750791503974} {:x 0.20999999530613422, :y 0.011721689364728003} {:x 0.2199999950826168, :y 0.015624871173765126} {:x 0.2299999948590994, :y 0.020518277521132885} {:x 0.23999999463558197, :y 0.026576228018233394} {:x 0.24999999441206455, :y 0.033988948078445234} {:x 0.25999999418854713, :y 0.042961799947504126} {:x 0.2699999939650297, :y 0.053714161857965285} {:x 0.2799999937415123, :y 0.06647794460472192} {:x 0.2899999935179949, :y 0.0814957398121864} {:x 0.29999999329447746, :y 0.09901859935292376} {:x 0.30999999307096004, :y 0.11930345073436079} {:x 0.3199999928474426, :y 0.1426101587467772} {:x 0.3299999926239252, :y 0.169198249214221} {:x 0.3399999924004078, :y 0.1993233162623725} {:x 0.3499999921768904, :y 0.2332331400658178} {:x 0.35999999195337296, :y 0.27116354751377414} {:x 0.36999999172985554, :y 0.3133340535901465} {:x 0.3799999915063381, :y 0.35994332645297417} {:x 0.3899999912828207, :y 0.411164524171962} {:x 0.3999999910593033, :y 0.4671405557929706} {:x 0.40999999083578587, :y 0.5279793237971725} {:x 0.41999999061226845, :y 0.5937490090621579} {:x 0.42999999038875103, :y 0.6644734630647064} {:x 0.4399999901652336, :y 0.7401277752423158} {:x 0.4499999899417162, :y 0.8206340861050027} {:x 0.4599999897181988, :y 0.9058577188124691} {:x 0.46999998949468136, :y 0.9956037034565456} {:x 0.47999998927116394, :y 1.0896137691669936} {:x 0.4899999890476465, :y 1.187563879342373} {:x 0.4999999888241291, :y 1.2890623847488334} {:x 0.5099999886006117, :y 1.3936488678805152} {:x 0.5199999883770943, :y 1.5007937497878026} {:x 0.5299999881535769, :y 1.6098987275060679} {:x 0.5399999879300594, :y 1.7202981062099234} {:x 0.549999987706542, :y 1.8312610852283753} {:x 0.5599999874830246, :y 1.9419950510368416} {:x 0.5699999872595072, :y 2.0516499232447822} {:x 0.5799999870359898, :y 2.1593235913748297} {:x 0.5899999868124723, :y 2.2640684708329073} {:x 0.5999999865889549, :y 2.3648991958509473} {:x 0.6099999863654375, :y 2.4608014552966013} {:x 0.6199999861419201, :y 2.5507419640398714} {:x 0.6299999859184027, :y 2.633679547996956} {:x 0.6399999856948853, :y 2.70857730498892} {:x 0.6499999854713678, :y 2.7744157861091687} {:x 0.6599999852478504, :y 2.830207123341214} {:x 0.669999985024333, :y 2.8750100086589603} {:x 0.6799999848008156, :y 2.907945407727869} {:x 0.6899999845772982, :y 2.92821286755887} {:x 0.6999999843537807, :y 2.935107251999983} {:x 0.7099999841302633, :y 2.9280357117353835} {:x 0.7199999839067459, :y 2.9065346664500646} {:x 0.7299999836832285, :y 2.8702865459626143} {:x 0.7399999834597111, :y 2.8191360043808795} {:x 0.7499999832361937, :y 2.7531052866475894} {:x 0.7599999830126762, :y 2.6724083901674813} {:x 0.7699999827891588, :y 2.5774636254961556} {:x 0.7799999825656414, :y 2.4689041392759337} {:x 0.789999982342124, :y 2.3475859196774826} {:x 0.7999999821186066, :y 2.214592759499983} {:x 0.8099999818950891, :y 2.071237604749305} {:x 0.8199999816715717, :y 1.9190596669050566} {:x 0.8299999814480543, :y 1.7598166251556389} {:x 0.8399999812245369, :y 1.5954711905776262} {:x 0.8499999810010195, :y 1.4281712475140458} {:x 0.8599999807775021, :y 1.260222728217505} {:x 0.8699999805539846, :y 1.0940543151207494} {:x 0.8799999803304672, :y 0.9321730008311944} {:x 0.8899999801069498, :y 0.7771094690693886} {:x 0.8999999798834324, :y 0.6313521902363203} {:x 0.909999979659915, :y 0.4972690530530667} {:x 0.9199999794363976, :y 0.3770152787206278} {:x 0.9299999792128801, :y 0.2724262862499537} {:x 0.9399999789893627, :y 0.18489409696430187} {:x 0.9499999787658453, :y 0.11522578263021246} {:x 0.9599999785423279, :y 0.06348237518169063} {:x 0.9699999783188105, :y 0.028796566516726324} {:x 0.979999978095293, :y 0.009167434318161433} {:x 0.9899999778717756, :y 0.001230334234235146} {:x 0.9999999776482582, :y 1.4740356209386295E-20})}), :marks ({:type \"line\", :from {:data \"21ae5ebb-b583-4929-a5e6-1a6605119337\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"3499fb19-9c28-4840-994e-2b6d20bf6ff4\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@
(def n 1000000)

(defn exponential [lambda]
  (fn [x]
    (- (Math/log (- 1 x)))))

(defn exp-seq
  [lambda]
  (repeatedly
    (fn []
      (let [f (exponential lambda)]
        (f (rand))))))

(def sample (take n (exp-seq 1)))

(defn exp-fn [lambda]
  (fn [x]
    (/ (Math/exp (- (* lambda x)))
       lambda)))

(plot/compose
  (plot/histogram sample
                  :bins 100
                  :normalize :probability-density)
  (plot/plot (exp-fn 1) [0 20]
             :plot-points 200))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"9042b17c-e9a3-4eba-81ac-9b9efd380c2b","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"9042b17c-e9a3-4eba-81ac-9b9efd380c2b","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"9042b17c-e9a3-4eba-81ac-9b9efd380c2b","values":[{"x":1.0976445851129668E-6,"y":0},{"x":0.13207088659857116,"y":0.9366032987536371},{"x":0.2641406755525572,"y":0.8234055711097422},{"x":0.3962104645065433,"y":0.724738040077796},{"x":0.5282802534605293,"y":0.6303636937665247},{"x":0.6603500424145153,"y":0.5513827240639515},{"x":0.7924198313685014,"y":0.4836912401083381},{"x":0.9244896203224874,"y":0.4225190366544901},{"x":1.0565594092764734,"y":0.3717807107052098},{"x":1.1886291982304595,"y":0.32348806141338626},{"x":1.3206989871844457,"y":0.2849099729621726},{"x":1.4527687761384318,"y":0.2504054883552676},{"x":1.584838565092418,"y":0.21756678970700186},{"x":1.716908354046404,"y":0.19013432366995628},{"x":1.8489781430003902,"y":0.16852453673379064},{"x":1.9810479319543763,"y":0.14671031242997384},{"x":2.1131177209083623,"y":0.13006759635229617},{"x":2.2451875098623484,"y":0.11219825606871141},{"x":2.3772572988163345,"y":0.09879625085602284},{"x":2.5093270877703207,"y":0.08630285616622842},{"x":2.641396876724307,"y":0.07699717006092092},{"x":2.773466665678293,"y":0.06590454992725496},{"x":2.905536454632279,"y":0.05862052223538694},{"x":3.037606243586265,"y":0.05135163805223382},{"x":3.1696760325402513,"y":0.04552138719699642},{"x":3.3017458214942375,"y":0.03940340967617588},{"x":3.4338156104482236,"y":0.03445905408076026},{"x":3.5658853994022097,"y":0.030733750936894292},{"x":3.697955188356196,"y":0.02624370060292575},{"x":3.830024977310182,"y":0.023305859912234696},{"x":3.962094766264168,"y":0.019868283433951864},{"x":4.094164555218154,"y":0.017990488353303975},{"x":4.22623434417214,"y":0.014878497312391546},{"x":4.3583041331261265,"y":0.014605914155523304},{"x":4.490373922080113,"y":0.012228383287283637},{"x":4.622443711034099,"y":0.010744319433223208},{"x":4.754513499988085,"y":0.009472264701171412},{"x":4.886583288942071,"y":0.00796548558403863},{"x":5.018653077896057,"y":0.007473321550804303},{"x":5.150722866850043,"y":0.006178551555680153},{"x":5.2827926558040295,"y":0.005421376119935036},{"x":5.414862444758016,"y":0.004520337351398347},{"x":5.546932233712002,"y":0.0045354808601132494},{"x":5.679002022665988,"y":0.0037177313895085237},{"x":5.811071811619974,"y":0.0029832712168357603},{"x":5.94314160057396,"y":0.002846979638401639},{"x":6.075211389527946,"y":0.002574396481533397},{"x":6.207281178481932,"y":0.002347243850809862},{"x":6.3393509674359185,"y":0.0015673531519923918},{"x":6.471420756389905,"y":0.001529494380205136},{"x":6.603490545343891,"y":0.001400774556128466},{"x":6.735560334297877,"y":0.001355344029983759},{"x":6.867630123251863,"y":0.0010600456100431635},{"x":6.999699912205849,"y":0.0010524738556857123},{"x":7.131769701159835,"y":9.540410490388472E-4},{"x":7.2638394901138215,"y":8.404647336770797E-4},{"x":7.395909279067808,"y":6.890296465280563E-4},{"x":7.527979068021794,"y":5.754533311662888E-4},{"x":7.66004885697578,"y":4.5430526144707006E-4},{"x":7.792118645929766,"y":5.073075419492283E-4},{"x":7.924188434883752,"y":4.315899983747166E-4},{"x":8.056258223837737,"y":3.2558543737040024E-4},{"x":8.188328012791724,"y":3.634442091576561E-4},{"x":8.32039780174571,"y":2.347243850809862E-4},{"x":8.452467590699696,"y":2.7258315686824204E-4},{"x":8.584537379653682,"y":1.9686561329373037E-4},{"x":8.716607168607668,"y":1.5900684150647453E-4},{"x":8.848676957561654,"y":1.9686561329373037E-4},{"x":8.98074674651564,"y":1.2871982407666984E-4},{"x":9.112816535469626,"y":1.2114806971921869E-4},{"x":9.244886324423613,"y":1.0600456100431635E-4},{"x":9.376956113377599,"y":1.1357631536176751E-4},{"x":9.509025902331585,"y":9.086105228941402E-5},{"x":9.641095691285571,"y":7.571754357451168E-5},{"x":9.773165480239557,"y":3.785877178725584E-5},{"x":9.905235269193543,"y":4.543052614470701E-5},{"x":10.03730505814753,"y":5.3002280502158175E-5},{"x":10.169374847101516,"y":5.3002280502158175E-5},{"x":10.301444636055502,"y":3.0287017429804673E-5},{"x":10.433514425009488,"y":2.2715263072353505E-5},{"x":10.565584213963474,"y":2.2715263072353505E-5},{"x":10.69765400291746,"y":3.0287017429804673E-5},{"x":10.829723791871446,"y":7.571754357451168E-6},{"x":10.961793580825432,"y":7.571754357451168E-6},{"x":11.093863369779418,"y":0.0},{"x":11.225933158733405,"y":1.5143508714902337E-5},{"x":11.35800294768739,"y":0.0},{"x":11.490072736641377,"y":1.5143508714902337E-5},{"x":11.622142525595363,"y":3.785877178725584E-5},{"x":11.75421231454935,"y":1.5143508714902337E-5},{"x":11.886282103503335,"y":2.2715263072353505E-5},{"x":12.018351892457321,"y":0.0},{"x":12.150421681411308,"y":1.5143508714902337E-5},{"x":12.282491470365294,"y":7.571754357451168E-6},{"x":12.41456125931928,"y":7.571754357451168E-6},{"x":12.546631048273266,"y":7.571754357451168E-6},{"x":12.678700837227252,"y":7.571754357451168E-6},{"x":12.810770626181238,"y":0.0},{"x":12.942840415135224,"y":0.0},{"x":13.07491020408921,"y":0.0},{"x":13.206979993043197,"y":7.571754357451168E-6},{"x":13.339049781997183,"y":0}]},{"name":"c497216c-d772-4dc0-ac40-713e9b469485","values":[{"x":0,"y":1.0},{"x":0.10000000149011612,"y":0.9048374166876467},{"x":0.20000000298023224,"y":0.8187307506379741},{"x":0.30000000447034836,"y":0.7408182173700023},{"x":0.4000000059604645,"y":0.6703200420402204},{"x":0.5000000074505806,"y":0.6065306551936279},{"x":0.6000000089406967,"y":0.5488116311872681},{"x":0.7000000104308128,"y":0.4965852986116212},{"x":0.800000011920929,"y":0.449328958760803},{"x":0.9000000134110451,"y":0.4065696542880751},{"x":1.0000000149011612,"y":0.3678794356896115},{"x":1.1000000163912773,"y":0.3328710782418974},{"x":1.2000000178813934,"y":0.3011942065264299},{"x":1.3000000193715096,"y":0.2725317877546604},{"x":1.4000000208616257,"y":0.24659695879719298},{"x":1.5000000223517418,"y":0.22313015516108217},{"x":1.600000023841858,"y":0.20189651318106738},{"x":1.700000025331974,"y":0.1826835194250004},{"x":1.8000000268220901,"y":0.16529888378792493},{"x":1.9000000283122063,"y":0.14956861498801752},{"x":2.0000000298023224,"y":0.135335279203307},{"x":2.1000000312924385,"y":0.12245642442102173},{"x":2.2000000327825546,"y":0.11080315472992334},{"x":2.3000000342726707,"y":0.10025884028666546},{"x":2.400000035762787,"y":0.09071795004508573},{"x":2.500000037252903,"y":0.08208499556599436},{"x":2.600000038743019,"y":0.07427357533675127},{"x":2.7000000402331352,"y":0.06720551003586134},{"x":2.8000000417232513,"y":0.06081006008802449},{"x":2.9000000432133675,"y":0.055023217678668655},{"x":3.0000000447034836,"y":0.0497870661422086},{"x":3.1000000461935997,"y":0.045049200312573034},{"x":3.200000047683716,"y":0.04076220203467291},{"x":3.300000049173832,"y":0.036883165587553376},{"x":3.400000050663948,"y":0.03337326826950451},{"x":3.500000052154064,"y":0.03019738184740227},{"x":3.6000000536441803,"y":0.027323720981533905},{"x":3.7000000551342964,"y":0.02472352510722519},{"x":3.8000000566244125,"y":0.022370770589433816},{"x":3.9000000581145287,"y":0.02024191026945528},{"x":4.000000059604645,"y":0.018315637797037064},{"x":4.100000061094761,"y":0.01657267438925764},{"x":4.200000062584877,"y":0.014995575881981405},{"x":4.300000064074993,"y":0.013568558142795634},{"x":4.400000065565109,"y":0.012277339098103336},{"x":4.500000067055225,"y":0.011108995793326065},{"x":4.6000000685453415,"y":0.010051835055627092},{"x":4.700000070035458,"y":0.009095276464703945},{"x":4.800000071525574,"y":0.00822974646038267},{"x":4.90000007301569,"y":0.007446582527206961},{"x":5.000000074505806,"y":0.006737946497069314},{"x":5.100000075995922,"y":0.006096746102187777},{"x":5.200000077486038,"y":0.005516563993304068},{"x":5.300000078976154,"y":0.004991593512693341},{"x":5.4000000804662704,"y":0.004516580579180259},{"x":5.500000081956387,"y":0.0040867711035270605},{"x":5.600000083446503,"y":0.003697863407909149},{"x":5.700000084936619,"y":0.0033459651732762924},{"x":5.800000086426735,"y":0.0030275544837141547},{"x":5.900000087916851,"y":0.002739444577925018},{"x":6.000000089406967,"y":0.002478751955048654},{"x":6.100000090897083,"y":0.0022428675156156777},{"x":6.200000092387199,"y":0.00202943044880233},{"x":6.3000000938773155,"y":0.001836304604641552},{"x":6.400000095367432,"y":0.0016615571147154925},{"x":6.500000096857548,"y":0.0015034390473581461},{"x":6.600000098347664,"y":0.0013603679037588814},{"x":6.70000009983778,"y":0.0012309117797819757},{"x":6.800000101327896,"y":0.0011137750349883163},{"x":6.900000102818012,"y":0.0010077853254300214},{"x":7.000000104308128,"y":9.1188187043782E-4},{"x":7.1000001057982445,"y":8.251048359712565E-4},{"x":7.200000107288361,"y":7.465857282767162E-4},{"x":7.300000108778477,"y":6.755387017097693E-4},{"x":7.400000110268593,"y":6.112526937275944E-4},{"x":7.500000111758709,"y":5.530843083358419E-4},{"x":7.600000113248825,"y":5.004513767650771E-4},{"x":7.700000114738941,"y":4.528271309298885E-4},{"x":7.800000116229057,"y":4.0973493135667915E-4},{"x":7.900000117719173,"y":3.707434968154678E-4},{"x":8.00000011920929,"y":3.354625879122527E-4},{"x":8.100000120699406,"y":3.035391014418753E-4},{"x":8.200000122189522,"y":2.74653536412356E-4},{"x":8.300000123679638,"y":2.485167963714827E-4},{"x":8.400000125169754,"y":2.2486729603226238E-4},{"x":8.50000012665987,"y":2.0346834323936862E-4},{"x":8.600000128149986,"y":1.841057700744257E-4},{"x":8.700000129640102,"y":1.665857893914332E-4},{"x":8.800000131130219,"y":1.5073305532981683E-4},{"x":8.900000132620335,"y":1.3638890839406758E-4},{"x":9.00000013411045,"y":1.234097875361362E-4},{"x":9.100000135600567,"y":1.1166579334816883E-4},{"x":9.200000137090683,"y":1.010393879855337E-4},{"x":9.300000138580799,"y":9.142421880853116E-5},{"x":9.400000140070915,"y":8.27240539693975E-5},{"x":9.500000141561031,"y":7.48518192915991E-5},{"x":9.600000143051147,"y":6.77287268021811E-5},{"x":9.700000144541264,"y":6.128348619522892E-5},{"x":9.80000014603138,"y":5.5451591334504E-5},{"x":9.900000147521496,"y":5.01746746543317E-5},{"x":10.000000149011612,"y":4.539992299736864E-5},{"x":10.100000150501728,"y":4.1079549042757125E-5},{"x":10.200000151991844,"y":3.717031303454185E-5},{"x":10.30000015348196,"y":3.363309002364601E-5},{"x":10.400000154972076,"y":3.043247829221892E-5},{"x":10.500000156462193,"y":2.7536445041334255E-5},{"x":10.600000157952309,"y":2.4916005795962248E-5},{"x":10.700000159442425,"y":2.2544934318592915E-5},{"x":10.800000160932541,"y":2.0399500128228283E-5},{"x":10.900000162422657,"y":1.84582309977454E-5},{"x":11.000000163912773,"y":1.670169805262379E-5},{"x":11.10000016540289,"y":1.5112321320233211E-5},{"x":11.200000166893005,"y":1.3674193783553467E-5},{"x":11.300000168383121,"y":1.2372922178396797E-5},{"x":11.400000169873238,"y":1.1195482940777848E-5},{"x":11.500000171363354,"y":1.0130091862704046E-5},{"x":11.60000017285347,"y":9.166086151857681E-6},{"x":11.700000174343586,"y":8.293817714783318E-6},{"x":11.800000175833702,"y":7.504556595522779E-6},{"x":11.900000177323818,"y":6.790403603279072E-6},{"x":12.000000178813934,"y":6.144211254657524E-6},{"x":12.10000018030405,"y":5.559512239247478E-6},{"x":12.200000181794167,"y":5.030454692604043E-6},{"x":12.300000183284283,"y":4.5517436288200925E-6},{"x":12.400000184774399,"y":4.118587946526027E-6},{"x":12.500000186264515,"y":3.7266524779354904E-6},{"x":12.600000187754631,"y":3.3720146010277666E-6},{"x":12.700000189244747,"y":3.05112498062699E-6},{"x":12.800000190734863,"y":2.760772045461672E-6},{"x":12.90000019222498,"y":2.4980498456790095E-6},{"x":13.000000193715096,"y":2.26032896912117E-6},{"x":13.100000195205212,"y":2.045230225283851E-6},{"x":13.200000196695328,"y":1.8506008335773335E-6},{"x":13.300000198185444,"y":1.6744928775741201E-6},{"x":13.40000019967556,"y":1.5151438096060308E-6},{"x":13.500000201165676,"y":1.3709588105942006E-6},{"x":13.600000202655792,"y":1.2404948285632251E-6},{"x":13.700000204145908,"y":1.1224461360915339E-6},{"x":13.800000205636024,"y":1.0156312621520943E-6},{"x":13.90000020712614,"y":9.189811675529152E-7},{"x":14.000000208616257,"y":8.315285456331772E-7},{"x":14.100000210106373,"y":7.5239814113276E-7},{"x":14.200000211596489,"y":6.807979903431541E-7},{"x":14.300000213086605,"y":6.16011494868241E-7},{"x":14.400000214576721,"y":5.573902496664748E-7},{"x":14.500000216066837,"y":5.043475535950955E-7},{"x":14.600000217556953,"y":4.563525375077207E-7},{"x":14.70000021904707,"y":4.129248511373384E-7},{"x":14.800000220537186,"y":3.7362985558924037E-7},{"x":14.900000222027302,"y":3.3807427332874677E-7},{"x":15.000000223517418,"y":3.059022521273366E-7},{"x":15.100000225007534,"y":2.767918035738325E-7},{"x":15.20000022649765,"y":2.504515805060611E-7},{"x":15.300000227987766,"y":2.2661796111044252E-7},{"x":15.400000229477882,"y":2.0505241050619441E-7},{"x":15.500000230967999,"y":1.8553909340799983E-7},{"x":15.600000232458115,"y":1.6788271397386254E-7},{"x":15.70000023394823,"y":1.5190656121862088E-7},{"x":15.800000235438347,"y":1.374507404309608E-7},{"x":15.900000236928463,"y":1.2437057289335483E-7},{"x":16.00000023841858,"y":1.1253514788878586E-7},{"x":16.100000239908695,"y":1.0182601250225127E-7},{"x":16.20000024139881,"y":9.213598610414107E-8},{"x":16.300000242888927,"y":8.336808765043993E-8},{"x":16.400000244379044,"y":7.543456506381337E-8},{"x":16.50000024586916,"y":6.82560169812971E-8},{"x":16.600000247359276,"y":6.176059807874502E-8},{"x":16.700000248849392,"y":5.588330001865568E-8},{"x":16.800000250339508,"y":5.0565300824861125E-8},{"x":16.900000251829624,"y":4.575337617240107E-8},{"x":17.00000025331974,"y":4.1399366700573516E-8},{"x":17.100000254809856,"y":3.7459696017851525E-8},{"x":17.200000256299973,"y":3.38949345746973E-8},{"x":17.30000025779009,"y":3.066940503936591E-8},{"x":17.400000259280205,"y":2.7750825227166946E-8},{"x":17.50000026077032,"y":2.5109985009500116E-8},{"x":17.600000262260437,"y":2.272045396906162E-8},{"x":17.700000263750553,"y":2.0558316875336308E-8},{"x":17.80000026524067,"y":1.8601934332925356E-8},{"x":17.900000266730785,"y":1.6831726207197424E-8},{"x":18.0000002682209,"y":1.522997565971428E-8},{"x":18.100000269711018,"y":1.3780651832151606E-8},{"x":18.200000271201134,"y":1.2469249404075946E-8},{"x":18.30000027269125,"y":1.1282643418818058E-8},{"x":18.400000274181366,"y":1.020895792449121E-8},{"x":18.500000275671482,"y":9.237447115469507E-9},{"x":18.600000277161598,"y":8.358387784750183E-9},{"x":18.700000278651714,"y":7.562982010826938E-9},{"x":18.80000028014183,"y":6.843269105131791E-9},{"x":18.900000281631947,"y":6.192045938785834E-9},{"x":19.000000283122063,"y":5.602794851262208E-9},{"x":19.10000028461218,"y":5.069618419446944E-9},{"x":19.200000286102295,"y":4.587180434244484E-9},{"x":19.30000028759241,"y":4.150652494001896E-9},{"x":19.400000289082527,"y":3.755665680240814E-9},{"x":19.500000290572643,"y":3.3982668320515517E-9},{"x":19.60000029206276,"y":3.074878981528839E-9},{"x":19.700000293552876,"y":2.7822655542736973E-9},{"x":19.80000029504299,"y":2.517497976668036E-9},{"x":19.900000296533108,"y":2.277926365724683E-9}]}],"marks":[{"type":"line","from":{"data":"9042b17c-e9a3-4eba-81ac-9b9efd380c2b"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"c497216c-d772-4dc0-ac40-713e9b469485"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"9042b17c-e9a3-4eba-81ac-9b9efd380c2b\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"9042b17c-e9a3-4eba-81ac-9b9efd380c2b\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"9042b17c-e9a3-4eba-81ac-9b9efd380c2b\", :values ({:x 1.0976445851129668E-6, :y 0} {:x 0.13207088659857116, :y 0.9366032987536371} {:x 0.2641406755525572, :y 0.8234055711097422} {:x 0.3962104645065433, :y 0.724738040077796} {:x 0.5282802534605293, :y 0.6303636937665247} {:x 0.6603500424145153, :y 0.5513827240639515} {:x 0.7924198313685014, :y 0.4836912401083381} {:x 0.9244896203224874, :y 0.4225190366544901} {:x 1.0565594092764734, :y 0.3717807107052098} {:x 1.1886291982304595, :y 0.32348806141338626} {:x 1.3206989871844457, :y 0.2849099729621726} {:x 1.4527687761384318, :y 0.2504054883552676} {:x 1.584838565092418, :y 0.21756678970700186} {:x 1.716908354046404, :y 0.19013432366995628} {:x 1.8489781430003902, :y 0.16852453673379064} {:x 1.9810479319543763, :y 0.14671031242997384} {:x 2.1131177209083623, :y 0.13006759635229617} {:x 2.2451875098623484, :y 0.11219825606871141} {:x 2.3772572988163345, :y 0.09879625085602284} {:x 2.5093270877703207, :y 0.08630285616622842} {:x 2.641396876724307, :y 0.07699717006092092} {:x 2.773466665678293, :y 0.06590454992725496} {:x 2.905536454632279, :y 0.05862052223538694} {:x 3.037606243586265, :y 0.05135163805223382} {:x 3.1696760325402513, :y 0.04552138719699642} {:x 3.3017458214942375, :y 0.03940340967617588} {:x 3.4338156104482236, :y 0.03445905408076026} {:x 3.5658853994022097, :y 0.030733750936894292} {:x 3.697955188356196, :y 0.02624370060292575} {:x 3.830024977310182, :y 0.023305859912234696} {:x 3.962094766264168, :y 0.019868283433951864} {:x 4.094164555218154, :y 0.017990488353303975} {:x 4.22623434417214, :y 0.014878497312391546} {:x 4.3583041331261265, :y 0.014605914155523304} {:x 4.490373922080113, :y 0.012228383287283637} {:x 4.622443711034099, :y 0.010744319433223208} {:x 4.754513499988085, :y 0.009472264701171412} {:x 4.886583288942071, :y 0.00796548558403863} {:x 5.018653077896057, :y 0.007473321550804303} {:x 5.150722866850043, :y 0.006178551555680153} {:x 5.2827926558040295, :y 0.005421376119935036} {:x 5.414862444758016, :y 0.004520337351398347} {:x 5.546932233712002, :y 0.0045354808601132494} {:x 5.679002022665988, :y 0.0037177313895085237} {:x 5.811071811619974, :y 0.0029832712168357603} {:x 5.94314160057396, :y 0.002846979638401639} {:x 6.075211389527946, :y 0.002574396481533397} {:x 6.207281178481932, :y 0.002347243850809862} {:x 6.3393509674359185, :y 0.0015673531519923918} {:x 6.471420756389905, :y 0.001529494380205136} {:x 6.603490545343891, :y 0.001400774556128466} {:x 6.735560334297877, :y 0.001355344029983759} {:x 6.867630123251863, :y 0.0010600456100431635} {:x 6.999699912205849, :y 0.0010524738556857123} {:x 7.131769701159835, :y 9.540410490388472E-4} {:x 7.2638394901138215, :y 8.404647336770797E-4} {:x 7.395909279067808, :y 6.890296465280563E-4} {:x 7.527979068021794, :y 5.754533311662888E-4} {:x 7.66004885697578, :y 4.5430526144707006E-4} {:x 7.792118645929766, :y 5.073075419492283E-4} {:x 7.924188434883752, :y 4.315899983747166E-4} {:x 8.056258223837737, :y 3.2558543737040024E-4} {:x 8.188328012791724, :y 3.634442091576561E-4} {:x 8.32039780174571, :y 2.347243850809862E-4} {:x 8.452467590699696, :y 2.7258315686824204E-4} {:x 8.584537379653682, :y 1.9686561329373037E-4} {:x 8.716607168607668, :y 1.5900684150647453E-4} {:x 8.848676957561654, :y 1.9686561329373037E-4} {:x 8.98074674651564, :y 1.2871982407666984E-4} {:x 9.112816535469626, :y 1.2114806971921869E-4} {:x 9.244886324423613, :y 1.0600456100431635E-4} {:x 9.376956113377599, :y 1.1357631536176751E-4} {:x 9.509025902331585, :y 9.086105228941402E-5} {:x 9.641095691285571, :y 7.571754357451168E-5} {:x 9.773165480239557, :y 3.785877178725584E-5} {:x 9.905235269193543, :y 4.543052614470701E-5} {:x 10.03730505814753, :y 5.3002280502158175E-5} {:x 10.169374847101516, :y 5.3002280502158175E-5} {:x 10.301444636055502, :y 3.0287017429804673E-5} {:x 10.433514425009488, :y 2.2715263072353505E-5} {:x 10.565584213963474, :y 2.2715263072353505E-5} {:x 10.69765400291746, :y 3.0287017429804673E-5} {:x 10.829723791871446, :y 7.571754357451168E-6} {:x 10.961793580825432, :y 7.571754357451168E-6} {:x 11.093863369779418, :y 0.0} {:x 11.225933158733405, :y 1.5143508714902337E-5} {:x 11.35800294768739, :y 0.0} {:x 11.490072736641377, :y 1.5143508714902337E-5} {:x 11.622142525595363, :y 3.785877178725584E-5} {:x 11.75421231454935, :y 1.5143508714902337E-5} {:x 11.886282103503335, :y 2.2715263072353505E-5} {:x 12.018351892457321, :y 0.0} {:x 12.150421681411308, :y 1.5143508714902337E-5} {:x 12.282491470365294, :y 7.571754357451168E-6} {:x 12.41456125931928, :y 7.571754357451168E-6} {:x 12.546631048273266, :y 7.571754357451168E-6} {:x 12.678700837227252, :y 7.571754357451168E-6} {:x 12.810770626181238, :y 0.0} {:x 12.942840415135224, :y 0.0} {:x 13.07491020408921, :y 0.0} {:x 13.206979993043197, :y 7.571754357451168E-6} {:x 13.339049781997183, :y 0})} {:name \"c497216c-d772-4dc0-ac40-713e9b469485\", :values ({:x 0, :y 1.0} {:x 0.10000000149011612, :y 0.9048374166876467} {:x 0.20000000298023224, :y 0.8187307506379741} {:x 0.30000000447034836, :y 0.7408182173700023} {:x 0.4000000059604645, :y 0.6703200420402204} {:x 0.5000000074505806, :y 0.6065306551936279} {:x 0.6000000089406967, :y 0.5488116311872681} {:x 0.7000000104308128, :y 0.4965852986116212} {:x 0.800000011920929, :y 0.449328958760803} {:x 0.9000000134110451, :y 0.4065696542880751} {:x 1.0000000149011612, :y 0.3678794356896115} {:x 1.1000000163912773, :y 0.3328710782418974} {:x 1.2000000178813934, :y 0.3011942065264299} {:x 1.3000000193715096, :y 0.2725317877546604} {:x 1.4000000208616257, :y 0.24659695879719298} {:x 1.5000000223517418, :y 0.22313015516108217} {:x 1.600000023841858, :y 0.20189651318106738} {:x 1.700000025331974, :y 0.1826835194250004} {:x 1.8000000268220901, :y 0.16529888378792493} {:x 1.9000000283122063, :y 0.14956861498801752} {:x 2.0000000298023224, :y 0.135335279203307} {:x 2.1000000312924385, :y 0.12245642442102173} {:x 2.2000000327825546, :y 0.11080315472992334} {:x 2.3000000342726707, :y 0.10025884028666546} {:x 2.400000035762787, :y 0.09071795004508573} {:x 2.500000037252903, :y 0.08208499556599436} {:x 2.600000038743019, :y 0.07427357533675127} {:x 2.7000000402331352, :y 0.06720551003586134} {:x 2.8000000417232513, :y 0.06081006008802449} {:x 2.9000000432133675, :y 0.055023217678668655} {:x 3.0000000447034836, :y 0.0497870661422086} {:x 3.1000000461935997, :y 0.045049200312573034} {:x 3.200000047683716, :y 0.04076220203467291} {:x 3.300000049173832, :y 0.036883165587553376} {:x 3.400000050663948, :y 0.03337326826950451} {:x 3.500000052154064, :y 0.03019738184740227} {:x 3.6000000536441803, :y 0.027323720981533905} {:x 3.7000000551342964, :y 0.02472352510722519} {:x 3.8000000566244125, :y 0.022370770589433816} {:x 3.9000000581145287, :y 0.02024191026945528} {:x 4.000000059604645, :y 0.018315637797037064} {:x 4.100000061094761, :y 0.01657267438925764} {:x 4.200000062584877, :y 0.014995575881981405} {:x 4.300000064074993, :y 0.013568558142795634} {:x 4.400000065565109, :y 0.012277339098103336} {:x 4.500000067055225, :y 0.011108995793326065} {:x 4.6000000685453415, :y 0.010051835055627092} {:x 4.700000070035458, :y 0.009095276464703945} {:x 4.800000071525574, :y 0.00822974646038267} {:x 4.90000007301569, :y 0.007446582527206961} {:x 5.000000074505806, :y 0.006737946497069314} {:x 5.100000075995922, :y 0.006096746102187777} {:x 5.200000077486038, :y 0.005516563993304068} {:x 5.300000078976154, :y 0.004991593512693341} {:x 5.4000000804662704, :y 0.004516580579180259} {:x 5.500000081956387, :y 0.0040867711035270605} {:x 5.600000083446503, :y 0.003697863407909149} {:x 5.700000084936619, :y 0.0033459651732762924} {:x 5.800000086426735, :y 0.0030275544837141547} {:x 5.900000087916851, :y 0.002739444577925018} {:x 6.000000089406967, :y 0.002478751955048654} {:x 6.100000090897083, :y 0.0022428675156156777} {:x 6.200000092387199, :y 0.00202943044880233} {:x 6.3000000938773155, :y 0.001836304604641552} {:x 6.400000095367432, :y 0.0016615571147154925} {:x 6.500000096857548, :y 0.0015034390473581461} {:x 6.600000098347664, :y 0.0013603679037588814} {:x 6.70000009983778, :y 0.0012309117797819757} {:x 6.800000101327896, :y 0.0011137750349883163} {:x 6.900000102818012, :y 0.0010077853254300214} {:x 7.000000104308128, :y 9.1188187043782E-4} {:x 7.1000001057982445, :y 8.251048359712565E-4} {:x 7.200000107288361, :y 7.465857282767162E-4} {:x 7.300000108778477, :y 6.755387017097693E-4} {:x 7.400000110268593, :y 6.112526937275944E-4} {:x 7.500000111758709, :y 5.530843083358419E-4} {:x 7.600000113248825, :y 5.004513767650771E-4} {:x 7.700000114738941, :y 4.528271309298885E-4} {:x 7.800000116229057, :y 4.0973493135667915E-4} {:x 7.900000117719173, :y 3.707434968154678E-4} {:x 8.00000011920929, :y 3.354625879122527E-4} {:x 8.100000120699406, :y 3.035391014418753E-4} {:x 8.200000122189522, :y 2.74653536412356E-4} {:x 8.300000123679638, :y 2.485167963714827E-4} {:x 8.400000125169754, :y 2.2486729603226238E-4} {:x 8.50000012665987, :y 2.0346834323936862E-4} {:x 8.600000128149986, :y 1.841057700744257E-4} {:x 8.700000129640102, :y 1.665857893914332E-4} {:x 8.800000131130219, :y 1.5073305532981683E-4} {:x 8.900000132620335, :y 1.3638890839406758E-4} {:x 9.00000013411045, :y 1.234097875361362E-4} {:x 9.100000135600567, :y 1.1166579334816883E-4} {:x 9.200000137090683, :y 1.010393879855337E-4} {:x 9.300000138580799, :y 9.142421880853116E-5} {:x 9.400000140070915, :y 8.27240539693975E-5} {:x 9.500000141561031, :y 7.48518192915991E-5} {:x 9.600000143051147, :y 6.77287268021811E-5} {:x 9.700000144541264, :y 6.128348619522892E-5} {:x 9.80000014603138, :y 5.5451591334504E-5} {:x 9.900000147521496, :y 5.01746746543317E-5} {:x 10.000000149011612, :y 4.539992299736864E-5} {:x 10.100000150501728, :y 4.1079549042757125E-5} {:x 10.200000151991844, :y 3.717031303454185E-5} {:x 10.30000015348196, :y 3.363309002364601E-5} {:x 10.400000154972076, :y 3.043247829221892E-5} {:x 10.500000156462193, :y 2.7536445041334255E-5} {:x 10.600000157952309, :y 2.4916005795962248E-5} {:x 10.700000159442425, :y 2.2544934318592915E-5} {:x 10.800000160932541, :y 2.0399500128228283E-5} {:x 10.900000162422657, :y 1.84582309977454E-5} {:x 11.000000163912773, :y 1.670169805262379E-5} {:x 11.10000016540289, :y 1.5112321320233211E-5} {:x 11.200000166893005, :y 1.3674193783553467E-5} {:x 11.300000168383121, :y 1.2372922178396797E-5} {:x 11.400000169873238, :y 1.1195482940777848E-5} {:x 11.500000171363354, :y 1.0130091862704046E-5} {:x 11.60000017285347, :y 9.166086151857681E-6} {:x 11.700000174343586, :y 8.293817714783318E-6} {:x 11.800000175833702, :y 7.504556595522779E-6} {:x 11.900000177323818, :y 6.790403603279072E-6} {:x 12.000000178813934, :y 6.144211254657524E-6} {:x 12.10000018030405, :y 5.559512239247478E-6} {:x 12.200000181794167, :y 5.030454692604043E-6} {:x 12.300000183284283, :y 4.5517436288200925E-6} {:x 12.400000184774399, :y 4.118587946526027E-6} {:x 12.500000186264515, :y 3.7266524779354904E-6} {:x 12.600000187754631, :y 3.3720146010277666E-6} {:x 12.700000189244747, :y 3.05112498062699E-6} {:x 12.800000190734863, :y 2.760772045461672E-6} {:x 12.90000019222498, :y 2.4980498456790095E-6} {:x 13.000000193715096, :y 2.26032896912117E-6} {:x 13.100000195205212, :y 2.045230225283851E-6} {:x 13.200000196695328, :y 1.8506008335773335E-6} {:x 13.300000198185444, :y 1.6744928775741201E-6} {:x 13.40000019967556, :y 1.5151438096060308E-6} {:x 13.500000201165676, :y 1.3709588105942006E-6} {:x 13.600000202655792, :y 1.2404948285632251E-6} {:x 13.700000204145908, :y 1.1224461360915339E-6} {:x 13.800000205636024, :y 1.0156312621520943E-6} {:x 13.90000020712614, :y 9.189811675529152E-7} {:x 14.000000208616257, :y 8.315285456331772E-7} {:x 14.100000210106373, :y 7.5239814113276E-7} {:x 14.200000211596489, :y 6.807979903431541E-7} {:x 14.300000213086605, :y 6.16011494868241E-7} {:x 14.400000214576721, :y 5.573902496664748E-7} {:x 14.500000216066837, :y 5.043475535950955E-7} {:x 14.600000217556953, :y 4.563525375077207E-7} {:x 14.70000021904707, :y 4.129248511373384E-7} {:x 14.800000220537186, :y 3.7362985558924037E-7} {:x 14.900000222027302, :y 3.3807427332874677E-7} {:x 15.000000223517418, :y 3.059022521273366E-7} {:x 15.100000225007534, :y 2.767918035738325E-7} {:x 15.20000022649765, :y 2.504515805060611E-7} {:x 15.300000227987766, :y 2.2661796111044252E-7} {:x 15.400000229477882, :y 2.0505241050619441E-7} {:x 15.500000230967999, :y 1.8553909340799983E-7} {:x 15.600000232458115, :y 1.6788271397386254E-7} {:x 15.70000023394823, :y 1.5190656121862088E-7} {:x 15.800000235438347, :y 1.374507404309608E-7} {:x 15.900000236928463, :y 1.2437057289335483E-7} {:x 16.00000023841858, :y 1.1253514788878586E-7} {:x 16.100000239908695, :y 1.0182601250225127E-7} {:x 16.20000024139881, :y 9.213598610414107E-8} {:x 16.300000242888927, :y 8.336808765043993E-8} {:x 16.400000244379044, :y 7.543456506381337E-8} {:x 16.50000024586916, :y 6.82560169812971E-8} {:x 16.600000247359276, :y 6.176059807874502E-8} {:x 16.700000248849392, :y 5.588330001865568E-8} {:x 16.800000250339508, :y 5.0565300824861125E-8} {:x 16.900000251829624, :y 4.575337617240107E-8} {:x 17.00000025331974, :y 4.1399366700573516E-8} {:x 17.100000254809856, :y 3.7459696017851525E-8} {:x 17.200000256299973, :y 3.38949345746973E-8} {:x 17.30000025779009, :y 3.066940503936591E-8} {:x 17.400000259280205, :y 2.7750825227166946E-8} {:x 17.50000026077032, :y 2.5109985009500116E-8} {:x 17.600000262260437, :y 2.272045396906162E-8} {:x 17.700000263750553, :y 2.0558316875336308E-8} {:x 17.80000026524067, :y 1.8601934332925356E-8} {:x 17.900000266730785, :y 1.6831726207197424E-8} {:x 18.0000002682209, :y 1.522997565971428E-8} {:x 18.100000269711018, :y 1.3780651832151606E-8} {:x 18.200000271201134, :y 1.2469249404075946E-8} {:x 18.30000027269125, :y 1.1282643418818058E-8} {:x 18.400000274181366, :y 1.020895792449121E-8} {:x 18.500000275671482, :y 9.237447115469507E-9} {:x 18.600000277161598, :y 8.358387784750183E-9} {:x 18.700000278651714, :y 7.562982010826938E-9} {:x 18.80000028014183, :y 6.843269105131791E-9} {:x 18.900000281631947, :y 6.192045938785834E-9} {:x 19.000000283122063, :y 5.602794851262208E-9} {:x 19.10000028461218, :y 5.069618419446944E-9} {:x 19.200000286102295, :y 4.587180434244484E-9} {:x 19.30000028759241, :y 4.150652494001896E-9} {:x 19.400000289082527, :y 3.755665680240814E-9} {:x 19.500000290572643, :y 3.3982668320515517E-9} {:x 19.60000029206276, :y 3.074878981528839E-9} {:x 19.700000293552876, :y 2.7822655542736973E-9} {:x 19.80000029504299, :y 2.517497976668036E-9} {:x 19.900000296533108, :y 2.277926365724683E-9})}), :marks ({:type \"line\", :from {:data \"9042b17c-e9a3-4eba-81ac-9b9efd380c2b\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"c497216c-d772-4dc0-ac40-713e9b469485\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@
(def n 1000000)

(defn std-normal-exp
  "Generate a sequence from the standard normal distribution using the rejection method and the exponential."
  []
  (let [Y (exponential 1)]
    (->> (repeatedly #(Y (rand)))
         #_(filter (fn [y] ;; equivalent
                   (< (rand)
			          (Math/exp (- (/ (** (- y 1) 2) 2))))))
         (filter (fn [y]
                   (> (- (Math/log (rand)))
			          (/ (** (- y 1) 2) 2))))
         (map #(* (rand-nth [-1 1]) %))
         )))

(def sample (take n (std-normal-exp)))

(defn std-norm [x]
  (/ (Math/exp (/ (- (** x 2))
                  2))
     (Math/sqrt (* 2 Math/PI))))

(plot/compose
  (plot/histogram sample
                  :bins 100
                  :normalize :probability-density)
  (plot/plot std-norm [-10 10]
             :plot-points 200))

;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"9478600f-6223-4c21-b31a-742843787c51","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"9478600f-6223-4c21-b31a-742843787c51","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"9478600f-6223-4c21-b31a-742843787c51","values":[{"x":-5.1157877137228835,"y":0},{"x":-5.017598276846121,"y":1.0184394898354493E-5},{"x":-4.919408839969358,"y":0.0},{"x":-4.821219403092595,"y":1.0184394898354493E-5},{"x":-4.723029966215832,"y":0.0},{"x":-4.624840529339069,"y":0.0},{"x":-4.5266510924623065,"y":4.073757959341797E-5},{"x":-4.428461655585544,"y":3.055318469506348E-5},{"x":-4.330272218708781,"y":2.0368789796708986E-5},{"x":-4.232082781832018,"y":6.110636939012696E-5},{"x":-4.133893344955255,"y":5.092197449177246E-5},{"x":-4.035703908078492,"y":5.092197449177246E-5},{"x":-3.93751447120173,"y":1.0184394898354492E-4},{"x":-3.8393250343249674,"y":3.1571624184898925E-4},{"x":-3.741135597448205,"y":2.3424108266215332E-4},{"x":-3.6429461605714426,"y":3.971914010358252E-4},{"x":-3.54475672369468,"y":6.00879299002915E-4},{"x":-3.446567286817918,"y":7.434608275798779E-4},{"x":-3.3483778499411554,"y":0.0012323117827008935},{"x":-3.250188413064393,"y":0.0017720847123136817},{"x":-3.1519989761876306,"y":0.00231185764192647},{"x":-3.053809539310868,"y":0.0030858716542014114},{"x":-2.955620102434106,"y":0.004572793309361167},{"x":-2.8574306655573434,"y":0.006049530569622569},{"x":-2.759241228680581,"y":0.007831799676834604},{"x":-2.6610517918038186,"y":0.010439004770813354},{"x":-2.562862354927056,"y":0.013657273558693374},{"x":-2.4646729180502938,"y":0.016580194894521113},{"x":-2.3664834811735314,"y":0.021315938522255953},{"x":-2.268294044296769,"y":0.0276608165439308},{"x":-2.1701046074200065,"y":0.03387329743192704},{"x":-2.071915170543244,"y":0.04109403341486038},{"x":-1.9737257336664817,"y":0.05086086812238234},{"x":-1.8755362967897193,"y":0.06220628403914924},{"x":-1.777346859912957,"y":0.07330727447835564},{"x":-1.6791574230361945,"y":0.08888939867283802},{"x":-1.5809679861594321,"y":0.10683430248373862},{"x":-1.4827785492826697,"y":0.12341449737825974},{"x":-1.3845891124059073,"y":0.14257134418206455},{"x":-1.286399675529145,"y":0.1618707725144463},{"x":-1.1882102386523825,"y":0.1836450088071282},{"x":-1.09002080177562,"y":0.2106845772622594},{"x":-0.9918313648988577,"y":0.23139963648551243},{"x":-0.8936419280220953,"y":0.25693191449568714},{"x":-0.7954524911453329,"y":0.2773923638464813},{"x":-0.6972630542685705,"y":0.3034236772066754},{"x":-0.5990736173918081,"y":0.3232017720992798},{"x":-0.5008841805150457,"y":0.3433566896031234},{"x":-0.4026947436382832,"y":0.3608025580640046},{"x":-0.30450530676152077,"y":0.37426632811962923},{"x":-0.2063158698847583,"y":0.389369785753889},{"x":-0.10812643300799585,"y":0.39404442301223364},{"x":-0.009936996131233389,"y":0.3945943803367448},{"x":0.08825244074552907,"y":0.40164198160640613},{"x":0.18644187762229153,"y":0.3971506634562318},{"x":0.284631314499054,"y":0.38704774371706413},{"x":0.38282075137581645,"y":0.3790122561422624},{"x":0.4810101882525789,"y":0.3636032666610521},{"x":0.5791996251293414,"y":0.3458314975634235},{"x":0.6773890620061038,"y":0.32900687719134186},{"x":0.7755784988828662,"y":0.3070493217904896},{"x":0.8737679357596286,"y":0.2840936956895986},{"x":0.971957372636391,"y":0.2589891622651547},{"x":1.0701468095131534,"y":0.2362779616418242},{"x":1.1683362463899158,"y":0.21239555560518295},{"x":1.2665256832666782,"y":0.18779005753075848},{"x":1.3647151201434407,"y":0.1675332960779314},{"x":1.462904557020203,"y":0.14593219449852152},{"x":1.5610939938969655,"y":0.12779378718455217},{"x":1.6592834307737279,"y":0.10929892604914042},{"x":1.7574728676504903,"y":0.09267799357502587},{"x":1.8556623045272527,"y":0.07839947192753288},{"x":1.953851741404015,"y":0.06511902098007863},{"x":2.0520411782807777,"y":0.05504665442560603},{"x":2.15023061515754,"y":0.04438359296702888},{"x":2.2484200520343025,"y":0.03559446016974895},{"x":2.346609488911065,"y":0.02886257514193663},{"x":2.4447989257878273,"y":0.02326115794784166},{"x":2.5429883626645897,"y":0.017649556358848337},{"x":2.641177799541352,"y":0.013881330246457173},{"x":2.7393672364181145,"y":0.010663061458577153},{"x":2.837556673294877,"y":0.007862352861529668},{"x":2.9357461101716393,"y":0.0063448780216748485},{"x":3.0339355470484017,"y":0.004440396175682559},{"x":3.132124983925164,"y":0.0035238006348306543},{"x":3.2303144208019265,"y":0.0025562831194869775},{"x":3.328503857678689,"y":0.00190448184599229},{"x":3.4266932945554514,"y":0.0012526805724976026},{"x":3.5248827314322138,"y":0.0010999146490222851},{"x":3.623072168308976,"y":6.82354458189751E-4},{"x":3.7212616051857386,"y":4.6848216532430664E-4},{"x":3.819451042062501,"y":2.851630571539258E-4},{"x":3.9176404789392634,"y":2.9534745205228027E-4},{"x":4.015829915816026,"y":1.323971336786084E-4},{"x":4.114019352692789,"y":1.6295031837367188E-4},{"x":4.2122087895695515,"y":6.110636939012696E-5},{"x":4.310398226446314,"y":4.073757959341797E-5},{"x":4.408587663323077,"y":3.055318469506348E-5},{"x":4.50677710019984,"y":3.055318469506348E-5},{"x":4.604966537076603,"y":0.0},{"x":4.703155973953366,"y":2.0368789796708986E-5},{"x":4.801345410830129,"y":0}]},{"name":"60082eda-ecae-4ad7-bfe6-30a851972b18","values":[{"x":-10,"y":7.69459862670642E-23},{"x":-9.899999998509884,"y":2.0811768509046641E-22},{"x":-9.799999997019768,"y":5.573000185487313E-22},{"x":-9.699999995529652,"y":1.4774955567719825E-21},{"x":-9.599999994039536,"y":3.878112153654294E-21},{"x":-9.49999999254942,"y":1.00779361076215E-20},{"x":-9.399999991059303,"y":2.5928649190113523E-20},{"x":-9.299999989569187,"y":6.604580501426931E-20},{"x":-9.199999988079071,"y":1.6655882150492112E-19},{"x":-9.099999986588955,"y":4.1585994866327067E-19},{"x":-8.999999985098839,"y":1.0279774950294077E-18},{"x":-8.899999983608723,"y":2.5158061439631523E-18},{"x":-8.799999982118607,"y":6.095759088768246E-18},{"x":-8.69999998062849,"y":1.4622966039445915E-17},{"x":-8.599999979138374,"y":3.472963371650442E-17},{"x":-8.499999977648258,"y":8.166237183171215E-17},{"x":-8.399999976158142,"y":1.9010819186406572E-16},{"x":-8.299999974668026,"y":4.381640356772747E-16},{"x":-8.19999997317791,"y":9.998380947552197E-16},{"x":-8.099999971687794,"y":2.258809921164568E-15},{"x":-7.999999970197678,"y":5.052272288092329E-15},{"x":-7.8999999687075615,"y":1.1187958980129797E-14},{"x":-7.799999967217445,"y":2.4528559129012343E-14},{"x":-7.699999965727329,"y":5.3241497772935884E-14},{"x":-7.599999964237213,"y":1.1441568011586872E-13},{"x":-7.499999962747097,"y":2.434321213170405E-13},{"x":-7.399999961256981,"y":5.127755106915338E-13},{"x":-7.299999959766865,"y":1.0693841012342433E-12},{"x":-7.199999958276749,"y":2.2079906264337873E-12},{"x":-7.0999999567866325,"y":4.513545062028217E-12},{"x":-6.999999955296516,"y":9.134723266841807E-12},{"x":-6.8999999538064,"y":1.8303328004081402E-11},{"x":-6.799999952316284,"y":3.630962679128586E-11},{"x":-6.699999950826168,"y":7.131330473517147E-11},{"x":-6.599999949336052,"y":1.3866804578463E-10},{"x":-6.499999947845936,"y":2.669557519746481E-10},{"x":-6.39999994635582,"y":5.088142028519688E-10},{"x":-6.299999944865704,"y":9.601436705332996E-10},{"x":-6.1999999433755875,"y":1.7937845377103406E-9},{"x":-6.099999941885471,"y":3.317885419732901E-9},{"x":-5.999999940395355,"y":6.075885022728709E-9},{"x":-5.899999938905239,"y":1.1015767595415157E-8},{"x":-5.799999937415123,"y":1.977320358376372E-8},{"x":-5.699999935925007,"y":3.5139563782135644E-8},{"x":-5.599999934434891,"y":6.182622770205707E-8},{"x":-5.499999932944775,"y":1.0769764014471768E-7},{"x":-5.3999999314546585,"y":1.8573625320483248E-7},{"x":-5.299999929964542,"y":3.1713503938827233E-7},{"x":-5.199999928474426,"y":5.361037338643848E-7},{"x":-5.09999992698431,"y":8.972438503539499E-7},{"x":-4.999999925494194,"y":1.4867200685805742E-6},{"x":-4.899999924004078,"y":2.438961654113769E-6},{"x":-4.799999922513962,"y":3.961300564370127E-6},{"x":-4.699999921023846,"y":6.369827543269707E-6},{"x":-4.5999999195337296,"y":1.0140855819071512E-5},{"x":-4.499999918043613,"y":1.5983747001769997E-5},{"x":-4.399999916553497,"y":2.4942480448047956E-5},{"x":-4.299999915063381,"y":3.853521081620162E-5},{"x":-4.199999913573265,"y":5.894308915242249E-5},{"x":-4.099999912083149,"y":8.926168935231399E-5},{"x":-3.999999910593033,"y":1.3383027362631186E-4},{"x":-3.8999999091029167,"y":1.9865554181587564E-4},{"x":-3.7999999076128006,"y":2.919470282856806E-4},{"x":-3.6999999061226845,"y":4.247804180965321E-4},{"x":-3.5999999046325684,"y":6.119021401936613E-4},{"x":-3.4999999031424522,"y":8.726829908864767E-4},{"x":-3.399999901652336,"y":0.0012322195805050625},{"x":-3.29999990016222,"y":0.0017225695065793782},{"x":-3.199999898672104,"y":0.00238408897450381},{"x":-3.0999998971819878,"y":0.0032668200974523788},{"x":-2.9999998956918716,"y":0.00443184979877164},{"x":-2.8999998942017555,"y":0.005952534246101793},{"x":-2.7999998927116394,"y":0.007915453960840582},{"x":-2.6999998912215233,"y":0.010420937875071203},{"x":-2.599999889731407,"y":0.013582973127900846},{"x":-2.499999888241291,"y":0.017528305390919697},{"x":-2.399999886751175,"y":0.022394536381613768},{"x":-2.299999885261059,"y":0.028327045217094907},{"x":-2.1999998837709427,"y":0.03547460191722503},{"x":-2.0999998822808266,"y":0.04398360685362461},{"x":-1.9999998807907104,"y":0.05399097938563873},{"x":-1.8999998793005943,"y":0.06561582982227855},{"x":-1.7999998778104782,"y":0.07895017566528326},{"x":-1.699999876320362,"y":0.0940490971512132},{"x":-1.599999874830246,"y":0.11092085689375068},{"x":-1.4999998733401299,"y":0.12951762027291583},{"x":-1.3999998718500137,"y":0.14972749249834777},{"x":-1.2999998703598976,"y":0.17136862092892274},{"x":-1.1999998688697815,"y":0.19418608553960548},{"x":-1.0999998673796654,"y":0.21785220881334247},{"x":-0.9999998658895493,"y":0.2419707569699463},{"x":-0.8999998643994331,"y":0.2660852823719341},{"x":-0.799999862909317,"y":0.28969158453269206},{"x":-0.6999998614192009,"y":0.31225396365743946},{"x":-0.5999998599290848,"y":0.3332246308968426},{"x":-0.49999985843896866,"y":0.35206535168366226},{"x":-0.39999985694885254,"y":0.3682701613759066},{"x":-0.2999998554587364,"y":0.38138783199840354},{"x":-0.1999998539686203,"y":0.3910427053963527},{"x":-0.09999985247850418,"y":0.3969525533329109},{"x":1.4901161193847656E-7,"y":0.3989422804014283},{"x":0.10000015050172806,"y":0.3969525415028029},{"x":0.20000015199184418,"y":0.39104268208839155},{"x":0.3000001534819603,"y":0.38138779789967514},{"x":0.4000001549720764,"y":0.3682701174746843},{"x":0.5000001564621925,"y":0.3520652992218398},{"x":0.6000001579523087,"y":0.33322457131163985},{"x":0.7000001594424248,"y":0.3122538985161923},{"x":0.8000001609325409,"y":0.2896915154648433},{"x":0.900000162422657,"y":0.26608521100230825},{"x":1.0000001639127731,"y":0.24197068485705092},{"x":1.1000001654028893,"y":0.21785213739583373},{"x":1.2000001668930054,"y":0.19418601609326097},{"x":1.3000001683831215,"y":0.17136855453555708},{"x":1.4000001698732376,"y":0.14972743002718186},{"x":1.5000001713633537,"y":0.12951756237403977},{"x":1.6000001728534698,"y":0.11092080400257631},{"x":1.700000174343586,"y":0.09404904950223884},{"x":1.800000175833702,"y":0.0789501333131194},{"x":1.9000001773238182,"y":0.06561579266771035},{"x":2.0000001788139343,"y":0.05399094720451637},{"x":2.1000001803040504,"y":0.04398357932654656},{"x":2.2000001817941666,"y":0.035474578658270806},{"x":2.3000001832842827,"y":0.02832702580023139},{"x":2.400000184774399,"y":0.022394520363798628},{"x":2.500000186264515,"y":0.017528292331319164},{"x":2.600000187754631,"y":0.01358296260299702},{"x":2.700000189244747,"y":0.010420929489734398},{"x":2.8000001907348633,"y":0.007915447355673738},{"x":2.9000001922249794,"y":0.005952529101522948},{"x":3.0000001937150955,"y":0.004431845836390858},{"x":3.1000001952052116,"y":0.0032668170793301293},{"x":3.2000001966953278,"y":0.0023840867008604375},{"x":3.300000198185444,"y":0.0017225678124733186},{"x":3.40000019967556,"y":0.0012322183319235002},{"x":3.500000201165676,"y":8.726820806076433E-4},{"x":3.6000002026557922,"y":6.11901483694229E-4},{"x":3.7000002041459084,"y":4.247799496973935E-4},{"x":3.8000002056360245,"y":2.9194669765928355E-4},{"x":3.9000002071261406,"y":1.986553109205429E-4},{"x":4.000000208616257,"y":1.3383011408828617E-4},{"x":4.100000210106373,"y":8.926158028394767E-5},{"x":4.200000211596489,"y":5.89430153735478E-5},{"x":4.300000213086605,"y":3.853516143336514E-5},{"x":4.400000214576721,"y":2.49424477409398E-5},{"x":4.500000216066837,"y":1.598372556590891E-5},{"x":4.600000217556953,"y":1.0140841916912323E-5},{"x":4.7000002190470695,"y":6.369818621000094E-6},{"x":4.800000220537186,"y":3.961294897688184E-6},{"x":4.900000222027302,"y":2.438958092466959E-6},{"x":5.000000223517418,"y":1.486717853196654E-6},{"x":5.100000225007534,"y":8.972424866174907E-7},{"x":5.20000022649765,"y":5.361029030539281E-7},{"x":5.300000227987766,"y":3.1713453846654435E-7},{"x":5.400000229477882,"y":1.8573595429499707E-7},{"x":5.5000002309679985,"y":1.0769746361467112E-7},{"x":5.600000232458115,"y":6.182612451849211E-8},{"x":5.700000233948231,"y":3.5139504089470796E-8},{"x":5.800000235438347,"y":1.9773169405124277E-8},{"x":5.900000236928463,"y":1.1015748225999898E-8},{"x":6.000000238418579,"y":6.075874158209196E-9},{"x":6.100000239908695,"y":3.3178793880161435E-9},{"x":6.200000241398811,"y":1.7937812232587628E-9},{"x":6.3000002428889275,"y":9.601418678207619E-10},{"x":6.400000244379044,"y":5.088132323668056E-10},{"x":6.50000024586916,"y":2.6695523484155055E-10},{"x":6.600000247359276,"y":1.3866777303132667E-10},{"x":6.700000248849392,"y":7.131316234007104E-11},{"x":6.800000250339508,"y":3.6309553207797556E-11},{"x":6.900000251829624,"y":1.8303290365883527E-11},{"x":7.00000025331974,"y":9.134704210343653E-12},{"x":7.100000254809856,"y":4.513535511535298E-12},{"x":7.2000002562999725,"y":2.207985888604909E-12},{"x":7.300000257790089,"y":1.0693817747172687E-12},{"x":7.400000259280205,"y":5.127743798320842E-13},{"x":7.500000260770321,"y":2.43431577204448E-13},{"x":7.600000262260437,"y":1.1441542096733125E-13},{"x":7.700000263750553,"y":5.3241375595612546E-14},{"x":7.800000265240669,"y":2.4528502110451645E-14},{"x":7.900000266730785,"y":1.1187932639414735E-14},{"x":8.000000268220901,"y":5.052260242550707E-15},{"x":8.100000269711018,"y":2.258804468430769E-15},{"x":8.200000271201134,"y":9.998356513633965E-16},{"x":8.30000027269125,"y":4.3816295183921413E-16},{"x":8.400000274181366,"y":1.9010771594874242E-16},{"x":8.500000275671482,"y":8.166216496506302E-17},{"x":8.600000277161598,"y":3.472954470457533E-17},{"x":8.700000278651714,"y":1.4622928125038152E-17},{"x":8.80000028014183,"y":6.0957431020245245E-18},{"x":8.900000281631947,"y":2.5157994710308416E-18},{"x":9.000000283122063,"y":1.0279747377825572E-18},{"x":9.100000284612179,"y":4.1585882084788674E-19},{"x":9.200000286102295,"y":1.6655836483228813E-19},{"x":9.300000287592411,"y":6.604562196091144E-20},{"x":9.400000289082527,"y":2.5928576553221707E-20},{"x":9.500000290572643,"y":1.0077907574800877E-20},{"x":9.60000029206276,"y":3.878101058302129E-21},{"x":9.700000293552876,"y":1.4774912855965886E-21},{"x":9.800000295042992,"y":5.572983908852721E-22},{"x":9.900000296533108,"y":2.0811707105471916E-22}]}],"marks":[{"type":"line","from":{"data":"9478600f-6223-4c21-b31a-742843787c51"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"60082eda-ecae-4ad7-bfe6-30a851972b18"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"9478600f-6223-4c21-b31a-742843787c51\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"9478600f-6223-4c21-b31a-742843787c51\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"9478600f-6223-4c21-b31a-742843787c51\", :values ({:x -5.1157877137228835, :y 0} {:x -5.017598276846121, :y 1.0184394898354493E-5} {:x -4.919408839969358, :y 0.0} {:x -4.821219403092595, :y 1.0184394898354493E-5} {:x -4.723029966215832, :y 0.0} {:x -4.624840529339069, :y 0.0} {:x -4.5266510924623065, :y 4.073757959341797E-5} {:x -4.428461655585544, :y 3.055318469506348E-5} {:x -4.330272218708781, :y 2.0368789796708986E-5} {:x -4.232082781832018, :y 6.110636939012696E-5} {:x -4.133893344955255, :y 5.092197449177246E-5} {:x -4.035703908078492, :y 5.092197449177246E-5} {:x -3.93751447120173, :y 1.0184394898354492E-4} {:x -3.8393250343249674, :y 3.1571624184898925E-4} {:x -3.741135597448205, :y 2.3424108266215332E-4} {:x -3.6429461605714426, :y 3.971914010358252E-4} {:x -3.54475672369468, :y 6.00879299002915E-4} {:x -3.446567286817918, :y 7.434608275798779E-4} {:x -3.3483778499411554, :y 0.0012323117827008935} {:x -3.250188413064393, :y 0.0017720847123136817} {:x -3.1519989761876306, :y 0.00231185764192647} {:x -3.053809539310868, :y 0.0030858716542014114} {:x -2.955620102434106, :y 0.004572793309361167} {:x -2.8574306655573434, :y 0.006049530569622569} {:x -2.759241228680581, :y 0.007831799676834604} {:x -2.6610517918038186, :y 0.010439004770813354} {:x -2.562862354927056, :y 0.013657273558693374} {:x -2.4646729180502938, :y 0.016580194894521113} {:x -2.3664834811735314, :y 0.021315938522255953} {:x -2.268294044296769, :y 0.0276608165439308} {:x -2.1701046074200065, :y 0.03387329743192704} {:x -2.071915170543244, :y 0.04109403341486038} {:x -1.9737257336664817, :y 0.05086086812238234} {:x -1.8755362967897193, :y 0.06220628403914924} {:x -1.777346859912957, :y 0.07330727447835564} {:x -1.6791574230361945, :y 0.08888939867283802} {:x -1.5809679861594321, :y 0.10683430248373862} {:x -1.4827785492826697, :y 0.12341449737825974} {:x -1.3845891124059073, :y 0.14257134418206455} {:x -1.286399675529145, :y 0.1618707725144463} {:x -1.1882102386523825, :y 0.1836450088071282} {:x -1.09002080177562, :y 0.2106845772622594} {:x -0.9918313648988577, :y 0.23139963648551243} {:x -0.8936419280220953, :y 0.25693191449568714} {:x -0.7954524911453329, :y 0.2773923638464813} {:x -0.6972630542685705, :y 0.3034236772066754} {:x -0.5990736173918081, :y 0.3232017720992798} {:x -0.5008841805150457, :y 0.3433566896031234} {:x -0.4026947436382832, :y 0.3608025580640046} {:x -0.30450530676152077, :y 0.37426632811962923} {:x -0.2063158698847583, :y 0.389369785753889} {:x -0.10812643300799585, :y 0.39404442301223364} {:x -0.009936996131233389, :y 0.3945943803367448} {:x 0.08825244074552907, :y 0.40164198160640613} {:x 0.18644187762229153, :y 0.3971506634562318} {:x 0.284631314499054, :y 0.38704774371706413} {:x 0.38282075137581645, :y 0.3790122561422624} {:x 0.4810101882525789, :y 0.3636032666610521} {:x 0.5791996251293414, :y 0.3458314975634235} {:x 0.6773890620061038, :y 0.32900687719134186} {:x 0.7755784988828662, :y 0.3070493217904896} {:x 0.8737679357596286, :y 0.2840936956895986} {:x 0.971957372636391, :y 0.2589891622651547} {:x 1.0701468095131534, :y 0.2362779616418242} {:x 1.1683362463899158, :y 0.21239555560518295} {:x 1.2665256832666782, :y 0.18779005753075848} {:x 1.3647151201434407, :y 0.1675332960779314} {:x 1.462904557020203, :y 0.14593219449852152} {:x 1.5610939938969655, :y 0.12779378718455217} {:x 1.6592834307737279, :y 0.10929892604914042} {:x 1.7574728676504903, :y 0.09267799357502587} {:x 1.8556623045272527, :y 0.07839947192753288} {:x 1.953851741404015, :y 0.06511902098007863} {:x 2.0520411782807777, :y 0.05504665442560603} {:x 2.15023061515754, :y 0.04438359296702888} {:x 2.2484200520343025, :y 0.03559446016974895} {:x 2.346609488911065, :y 0.02886257514193663} {:x 2.4447989257878273, :y 0.02326115794784166} {:x 2.5429883626645897, :y 0.017649556358848337} {:x 2.641177799541352, :y 0.013881330246457173} {:x 2.7393672364181145, :y 0.010663061458577153} {:x 2.837556673294877, :y 0.007862352861529668} {:x 2.9357461101716393, :y 0.0063448780216748485} {:x 3.0339355470484017, :y 0.004440396175682559} {:x 3.132124983925164, :y 0.0035238006348306543} {:x 3.2303144208019265, :y 0.0025562831194869775} {:x 3.328503857678689, :y 0.00190448184599229} {:x 3.4266932945554514, :y 0.0012526805724976026} {:x 3.5248827314322138, :y 0.0010999146490222851} {:x 3.623072168308976, :y 6.82354458189751E-4} {:x 3.7212616051857386, :y 4.6848216532430664E-4} {:x 3.819451042062501, :y 2.851630571539258E-4} {:x 3.9176404789392634, :y 2.9534745205228027E-4} {:x 4.015829915816026, :y 1.323971336786084E-4} {:x 4.114019352692789, :y 1.6295031837367188E-4} {:x 4.2122087895695515, :y 6.110636939012696E-5} {:x 4.310398226446314, :y 4.073757959341797E-5} {:x 4.408587663323077, :y 3.055318469506348E-5} {:x 4.50677710019984, :y 3.055318469506348E-5} {:x 4.604966537076603, :y 0.0} {:x 4.703155973953366, :y 2.0368789796708986E-5} {:x 4.801345410830129, :y 0})} {:name \"60082eda-ecae-4ad7-bfe6-30a851972b18\", :values ({:x -10, :y 7.69459862670642E-23} {:x -9.899999998509884, :y 2.0811768509046641E-22} {:x -9.799999997019768, :y 5.573000185487313E-22} {:x -9.699999995529652, :y 1.4774955567719825E-21} {:x -9.599999994039536, :y 3.878112153654294E-21} {:x -9.49999999254942, :y 1.00779361076215E-20} {:x -9.399999991059303, :y 2.5928649190113523E-20} {:x -9.299999989569187, :y 6.604580501426931E-20} {:x -9.199999988079071, :y 1.6655882150492112E-19} {:x -9.099999986588955, :y 4.1585994866327067E-19} {:x -8.999999985098839, :y 1.0279774950294077E-18} {:x -8.899999983608723, :y 2.5158061439631523E-18} {:x -8.799999982118607, :y 6.095759088768246E-18} {:x -8.69999998062849, :y 1.4622966039445915E-17} {:x -8.599999979138374, :y 3.472963371650442E-17} {:x -8.499999977648258, :y 8.166237183171215E-17} {:x -8.399999976158142, :y 1.9010819186406572E-16} {:x -8.299999974668026, :y 4.381640356772747E-16} {:x -8.19999997317791, :y 9.998380947552197E-16} {:x -8.099999971687794, :y 2.258809921164568E-15} {:x -7.999999970197678, :y 5.052272288092329E-15} {:x -7.8999999687075615, :y 1.1187958980129797E-14} {:x -7.799999967217445, :y 2.4528559129012343E-14} {:x -7.699999965727329, :y 5.3241497772935884E-14} {:x -7.599999964237213, :y 1.1441568011586872E-13} {:x -7.499999962747097, :y 2.434321213170405E-13} {:x -7.399999961256981, :y 5.127755106915338E-13} {:x -7.299999959766865, :y 1.0693841012342433E-12} {:x -7.199999958276749, :y 2.2079906264337873E-12} {:x -7.0999999567866325, :y 4.513545062028217E-12} {:x -6.999999955296516, :y 9.134723266841807E-12} {:x -6.8999999538064, :y 1.8303328004081402E-11} {:x -6.799999952316284, :y 3.630962679128586E-11} {:x -6.699999950826168, :y 7.131330473517147E-11} {:x -6.599999949336052, :y 1.3866804578463E-10} {:x -6.499999947845936, :y 2.669557519746481E-10} {:x -6.39999994635582, :y 5.088142028519688E-10} {:x -6.299999944865704, :y 9.601436705332996E-10} {:x -6.1999999433755875, :y 1.7937845377103406E-9} {:x -6.099999941885471, :y 3.317885419732901E-9} {:x -5.999999940395355, :y 6.075885022728709E-9} {:x -5.899999938905239, :y 1.1015767595415157E-8} {:x -5.799999937415123, :y 1.977320358376372E-8} {:x -5.699999935925007, :y 3.5139563782135644E-8} {:x -5.599999934434891, :y 6.182622770205707E-8} {:x -5.499999932944775, :y 1.0769764014471768E-7} {:x -5.3999999314546585, :y 1.8573625320483248E-7} {:x -5.299999929964542, :y 3.1713503938827233E-7} {:x -5.199999928474426, :y 5.361037338643848E-7} {:x -5.09999992698431, :y 8.972438503539499E-7} {:x -4.999999925494194, :y 1.4867200685805742E-6} {:x -4.899999924004078, :y 2.438961654113769E-6} {:x -4.799999922513962, :y 3.961300564370127E-6} {:x -4.699999921023846, :y 6.369827543269707E-6} {:x -4.5999999195337296, :y 1.0140855819071512E-5} {:x -4.499999918043613, :y 1.5983747001769997E-5} {:x -4.399999916553497, :y 2.4942480448047956E-5} {:x -4.299999915063381, :y 3.853521081620162E-5} {:x -4.199999913573265, :y 5.894308915242249E-5} {:x -4.099999912083149, :y 8.926168935231399E-5} {:x -3.999999910593033, :y 1.3383027362631186E-4} {:x -3.8999999091029167, :y 1.9865554181587564E-4} {:x -3.7999999076128006, :y 2.919470282856806E-4} {:x -3.6999999061226845, :y 4.247804180965321E-4} {:x -3.5999999046325684, :y 6.119021401936613E-4} {:x -3.4999999031424522, :y 8.726829908864767E-4} {:x -3.399999901652336, :y 0.0012322195805050625} {:x -3.29999990016222, :y 0.0017225695065793782} {:x -3.199999898672104, :y 0.00238408897450381} {:x -3.0999998971819878, :y 0.0032668200974523788} {:x -2.9999998956918716, :y 0.00443184979877164} {:x -2.8999998942017555, :y 0.005952534246101793} {:x -2.7999998927116394, :y 0.007915453960840582} {:x -2.6999998912215233, :y 0.010420937875071203} {:x -2.599999889731407, :y 0.013582973127900846} {:x -2.499999888241291, :y 0.017528305390919697} {:x -2.399999886751175, :y 0.022394536381613768} {:x -2.299999885261059, :y 0.028327045217094907} {:x -2.1999998837709427, :y 0.03547460191722503} {:x -2.0999998822808266, :y 0.04398360685362461} {:x -1.9999998807907104, :y 0.05399097938563873} {:x -1.8999998793005943, :y 0.06561582982227855} {:x -1.7999998778104782, :y 0.07895017566528326} {:x -1.699999876320362, :y 0.0940490971512132} {:x -1.599999874830246, :y 0.11092085689375068} {:x -1.4999998733401299, :y 0.12951762027291583} {:x -1.3999998718500137, :y 0.14972749249834777} {:x -1.2999998703598976, :y 0.17136862092892274} {:x -1.1999998688697815, :y 0.19418608553960548} {:x -1.0999998673796654, :y 0.21785220881334247} {:x -0.9999998658895493, :y 0.2419707569699463} {:x -0.8999998643994331, :y 0.2660852823719341} {:x -0.799999862909317, :y 0.28969158453269206} {:x -0.6999998614192009, :y 0.31225396365743946} {:x -0.5999998599290848, :y 0.3332246308968426} {:x -0.49999985843896866, :y 0.35206535168366226} {:x -0.39999985694885254, :y 0.3682701613759066} {:x -0.2999998554587364, :y 0.38138783199840354} {:x -0.1999998539686203, :y 0.3910427053963527} {:x -0.09999985247850418, :y 0.3969525533329109} {:x 1.4901161193847656E-7, :y 0.3989422804014283} {:x 0.10000015050172806, :y 0.3969525415028029} {:x 0.20000015199184418, :y 0.39104268208839155} {:x 0.3000001534819603, :y 0.38138779789967514} {:x 0.4000001549720764, :y 0.3682701174746843} {:x 0.5000001564621925, :y 0.3520652992218398} {:x 0.6000001579523087, :y 0.33322457131163985} {:x 0.7000001594424248, :y 0.3122538985161923} {:x 0.8000001609325409, :y 0.2896915154648433} {:x 0.900000162422657, :y 0.26608521100230825} {:x 1.0000001639127731, :y 0.24197068485705092} {:x 1.1000001654028893, :y 0.21785213739583373} {:x 1.2000001668930054, :y 0.19418601609326097} {:x 1.3000001683831215, :y 0.17136855453555708} {:x 1.4000001698732376, :y 0.14972743002718186} {:x 1.5000001713633537, :y 0.12951756237403977} {:x 1.6000001728534698, :y 0.11092080400257631} {:x 1.700000174343586, :y 0.09404904950223884} {:x 1.800000175833702, :y 0.0789501333131194} {:x 1.9000001773238182, :y 0.06561579266771035} {:x 2.0000001788139343, :y 0.05399094720451637} {:x 2.1000001803040504, :y 0.04398357932654656} {:x 2.2000001817941666, :y 0.035474578658270806} {:x 2.3000001832842827, :y 0.02832702580023139} {:x 2.400000184774399, :y 0.022394520363798628} {:x 2.500000186264515, :y 0.017528292331319164} {:x 2.600000187754631, :y 0.01358296260299702} {:x 2.700000189244747, :y 0.010420929489734398} {:x 2.8000001907348633, :y 0.007915447355673738} {:x 2.9000001922249794, :y 0.005952529101522948} {:x 3.0000001937150955, :y 0.004431845836390858} {:x 3.1000001952052116, :y 0.0032668170793301293} {:x 3.2000001966953278, :y 0.0023840867008604375} {:x 3.300000198185444, :y 0.0017225678124733186} {:x 3.40000019967556, :y 0.0012322183319235002} {:x 3.500000201165676, :y 8.726820806076433E-4} {:x 3.6000002026557922, :y 6.11901483694229E-4} {:x 3.7000002041459084, :y 4.247799496973935E-4} {:x 3.8000002056360245, :y 2.9194669765928355E-4} {:x 3.9000002071261406, :y 1.986553109205429E-4} {:x 4.000000208616257, :y 1.3383011408828617E-4} {:x 4.100000210106373, :y 8.926158028394767E-5} {:x 4.200000211596489, :y 5.89430153735478E-5} {:x 4.300000213086605, :y 3.853516143336514E-5} {:x 4.400000214576721, :y 2.49424477409398E-5} {:x 4.500000216066837, :y 1.598372556590891E-5} {:x 4.600000217556953, :y 1.0140841916912323E-5} {:x 4.7000002190470695, :y 6.369818621000094E-6} {:x 4.800000220537186, :y 3.961294897688184E-6} {:x 4.900000222027302, :y 2.438958092466959E-6} {:x 5.000000223517418, :y 1.486717853196654E-6} {:x 5.100000225007534, :y 8.972424866174907E-7} {:x 5.20000022649765, :y 5.361029030539281E-7} {:x 5.300000227987766, :y 3.1713453846654435E-7} {:x 5.400000229477882, :y 1.8573595429499707E-7} {:x 5.5000002309679985, :y 1.0769746361467112E-7} {:x 5.600000232458115, :y 6.182612451849211E-8} {:x 5.700000233948231, :y 3.5139504089470796E-8} {:x 5.800000235438347, :y 1.9773169405124277E-8} {:x 5.900000236928463, :y 1.1015748225999898E-8} {:x 6.000000238418579, :y 6.075874158209196E-9} {:x 6.100000239908695, :y 3.3178793880161435E-9} {:x 6.200000241398811, :y 1.7937812232587628E-9} {:x 6.3000002428889275, :y 9.601418678207619E-10} {:x 6.400000244379044, :y 5.088132323668056E-10} {:x 6.50000024586916, :y 2.6695523484155055E-10} {:x 6.600000247359276, :y 1.3866777303132667E-10} {:x 6.700000248849392, :y 7.131316234007104E-11} {:x 6.800000250339508, :y 3.6309553207797556E-11} {:x 6.900000251829624, :y 1.8303290365883527E-11} {:x 7.00000025331974, :y 9.134704210343653E-12} {:x 7.100000254809856, :y 4.513535511535298E-12} {:x 7.2000002562999725, :y 2.207985888604909E-12} {:x 7.300000257790089, :y 1.0693817747172687E-12} {:x 7.400000259280205, :y 5.127743798320842E-13} {:x 7.500000260770321, :y 2.43431577204448E-13} {:x 7.600000262260437, :y 1.1441542096733125E-13} {:x 7.700000263750553, :y 5.3241375595612546E-14} {:x 7.800000265240669, :y 2.4528502110451645E-14} {:x 7.900000266730785, :y 1.1187932639414735E-14} {:x 8.000000268220901, :y 5.052260242550707E-15} {:x 8.100000269711018, :y 2.258804468430769E-15} {:x 8.200000271201134, :y 9.998356513633965E-16} {:x 8.30000027269125, :y 4.3816295183921413E-16} {:x 8.400000274181366, :y 1.9010771594874242E-16} {:x 8.500000275671482, :y 8.166216496506302E-17} {:x 8.600000277161598, :y 3.472954470457533E-17} {:x 8.700000278651714, :y 1.4622928125038152E-17} {:x 8.80000028014183, :y 6.0957431020245245E-18} {:x 8.900000281631947, :y 2.5157994710308416E-18} {:x 9.000000283122063, :y 1.0279747377825572E-18} {:x 9.100000284612179, :y 4.1585882084788674E-19} {:x 9.200000286102295, :y 1.6655836483228813E-19} {:x 9.300000287592411, :y 6.604562196091144E-20} {:x 9.400000289082527, :y 2.5928576553221707E-20} {:x 9.500000290572643, :y 1.0077907574800877E-20} {:x 9.60000029206276, :y 3.878101058302129E-21} {:x 9.700000293552876, :y 1.4774912855965886E-21} {:x 9.800000295042992, :y 5.572983908852721E-22} {:x 9.900000296533108, :y 2.0811707105471916E-22})}), :marks ({:type \"line\", :from {:data \"9478600f-6223-4c21-b31a-742843787c51\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"60082eda-ecae-4ad7-bfe6-30a851972b18\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@
(def n 1000000)

(defn std-normal-polar
  []
  (->> (repeatedly (fn []
                     (let [u1 (rand)
                           u2 (rand)
                           r (Math/sqrt (* -2 (Math/log u1)))
                           theta (* 2 Math/PI u2)]
                       [(* r (Math/cos theta))
                        (* r (Math/sin theta))])))
       flatten))

(def sample (take n (std-normal-polar)))

(plot/compose
  (plot/histogram sample
                  :bins 100
                  :normalize :probability-density)
  (plot/plot std-norm [-10 10]
             :plot-points 200))

;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"04843c71-56f8-47bc-8955-b3162a3c8cfb","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"04843c71-56f8-47bc-8955-b3162a3c8cfb","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"04843c71-56f8-47bc-8955-b3162a3c8cfb","values":[{"x":-4.5908089056010555,"y":0},{"x":-4.492261359850543,"y":2.029477228244009E-5},{"x":-4.393713814100031,"y":3.044215842366014E-5},{"x":-4.295166268349519,"y":4.058954456488018E-5},{"x":-4.196618722599006,"y":6.088431684732028E-5},{"x":-4.098071176848494,"y":5.073693070610023E-5},{"x":-3.9995236310979814,"y":1.116212475534205E-4},{"x":-3.9009760853474686,"y":1.9280033668318087E-4},{"x":-3.802428539596956,"y":1.2176863369464056E-4},{"x":-3.703880993846443,"y":3.2471635651904146E-4},{"x":-3.6053334480959305,"y":6.798748714617431E-4},{"x":-3.5067859023454178,"y":7.914961190151636E-4},{"x":-3.408238356594905,"y":0.001106065089392985},{"x":-3.3096908108443923,"y":0.0011872441785227455},{"x":-3.2111432650938796,"y":0.001958445525255469},{"x":-3.112595719343367,"y":0.0026890573274233123},{"x":-3.014048173592854,"y":0.003642911624697997},{"x":-2.9155006278423414,"y":0.004688092397243661},{"x":-2.8169530820918287,"y":0.00644359019967473},{"x":-2.718405536341316,"y":0.00856439390318972},{"x":-2.6198579905908033,"y":0.01102006134936497},{"x":-2.5213104448402905,"y":0.014328109231402706},{"x":-2.422762899089778,"y":0.018813253905821965},{"x":-2.324215353339265,"y":0.023328840738664886},{"x":-2.2256678075887524,"y":0.03064510614648454},{"x":-2.1271202618382397,"y":0.03789033985131565},{"x":-2.028572716087727,"y":0.046211196487116094},{"x":-1.9300251703372144,"y":0.056368730014477356},{"x":-1.831477624586702,"y":0.06715540148259427},{"x":-1.7329300788361894,"y":0.0807326041395467},{"x":-1.634382533085677,"y":0.09710033798533463},{"x":-1.5358349873351644,"y":0.11495973759388191},{"x":-1.437287441584652,"y":0.12985610044919293},{"x":-1.3387398958341394,"y":0.1532762676631288},{"x":-1.240192350083627,"y":0.17356089255942767},{"x":-1.1416448043331144,"y":0.1973159235160238},{"x":-1.043097258582602,"y":0.21983297336339108},{"x":-0.9445497128320893,"y":0.24174118004228518},{"x":-0.8460021670815767,"y":0.26634859143474376},{"x":-0.7474546213310641,"y":0.28759721801445853},{"x":-0.6489070755805515,"y":0.3146704442392336},{"x":-0.5503595298300389,"y":0.3321239484021321},{"x":-0.4518119840795263,"y":0.3547932090416177},{"x":-0.35326443832901366,"y":0.3655798805097346},{"x":-0.25471689257850105,"y":0.37976592633516026},{"x":-0.15616934682798844,"y":0.39303870740787605},{"x":-0.057621801077475845,"y":0.396955598458387},{"x":0.04092574467303675,"y":0.39876183319152414},{"x":0.13947329042354933,"y":0.39955332931053933},{"x":0.23802083617406194,"y":0.38964948043670855},{"x":0.33656838192457456,"y":0.38468740861365197},{"x":0.43511592767508717,"y":0.36816746397574573},{"x":0.5336634734255997,"y":0.354438050526675},{"x":0.6322110191761123,"y":0.33799928497789855},{"x":0.7307585649266249,"y":0.31704493259627914},{"x":0.8293061106771376,"y":0.29527878932336216},{"x":0.9278536564276502,"y":0.2707119674754684},{"x":1.0264012021781628,"y":0.2470787051525669},{"x":1.1249487479286753,"y":0.22454136053291718},{"x":1.2234962936791878,"y":0.1999339491404586},{"x":1.3220438394297003,"y":0.17689938259988908},{"x":1.4205913851802128,"y":0.1545852804753462},{"x":1.5191389309307253,"y":0.1353052468070281},{"x":1.6176864766812378,"y":0.11752702628761058},{"x":1.7162340224317503,"y":0.09953571065922744},{"x":1.8147815681822628,"y":0.08432477883353859},{"x":1.9133291139327753,"y":0.07018946993881905},{"x":2.011876659683288,"y":0.05744435294544668},{"x":2.1104242054338007,"y":0.047641977933028115},{"x":2.2089717511843134,"y":0.03970672197059404},{"x":2.307519296934826,"y":0.031203212384251642},{"x":2.406066842685339,"y":0.025246696719355477},{"x":2.5046143884358516,"y":0.01969607650010811},{"x":2.6031619341863643,"y":0.016276407370516954},{"x":2.701709479936877,"y":0.011811557468380134},{"x":2.8002570256873898,"y":0.00884852071514388},{"x":2.8988045714379025,"y":0.006676980080922791},{"x":2.997352117188415,"y":0.005307082951858084},{"x":3.095899662938928,"y":0.0038560067336636176},{"x":3.1944472086894407,"y":0.0029731841393774738},{"x":3.2929947544399534,"y":0.0019178559806905888},{"x":3.391542300190466,"y":0.0014409288320532466},{"x":3.490089845940979,"y":9.234121388510242E-4},{"x":3.5886373916914915,"y":6.291379407556429E-4},{"x":3.6871849374420043,"y":6.494327130380829E-4},{"x":3.785732483192517,"y":3.3486374266026154E-4},{"x":3.8842800289430297,"y":2.841268119541613E-4},{"x":3.9828275746935424,"y":1.9280033668318087E-4},{"x":4.081375120444055,"y":1.6235817825952073E-4},{"x":4.179922666194567,"y":1.116212475534205E-4},{"x":4.27847021194508,"y":3.044215842366014E-5},{"x":4.377017757695592,"y":2.029477228244009E-5},{"x":4.475565303446104,"y":1.0147386141220046E-5},{"x":4.5741128491966165,"y":1.0147386141220046E-5},{"x":4.672660394947129,"y":1.0147386141220046E-5},{"x":4.771207940697641,"y":0.0},{"x":4.869755486448153,"y":2.029477228244009E-5},{"x":4.968303032198666,"y":0.0},{"x":5.066850577949178,"y":0.0},{"x":5.16539812369969,"y":1.0147386141220046E-5},{"x":5.2639456694502025,"y":0.0},{"x":5.362493215200715,"y":1.0147386141220046E-5},{"x":5.461040760951227,"y":0}]},{"name":"d8c25a69-dc40-4b15-a2ea-8bc75aff8470","values":[{"x":-10,"y":7.69459862670642E-23},{"x":-9.899999998509884,"y":2.0811768509046641E-22},{"x":-9.799999997019768,"y":5.573000185487313E-22},{"x":-9.699999995529652,"y":1.4774955567719825E-21},{"x":-9.599999994039536,"y":3.878112153654294E-21},{"x":-9.49999999254942,"y":1.00779361076215E-20},{"x":-9.399999991059303,"y":2.5928649190113523E-20},{"x":-9.299999989569187,"y":6.604580501426931E-20},{"x":-9.199999988079071,"y":1.6655882150492112E-19},{"x":-9.099999986588955,"y":4.1585994866327067E-19},{"x":-8.999999985098839,"y":1.0279774950294077E-18},{"x":-8.899999983608723,"y":2.5158061439631523E-18},{"x":-8.799999982118607,"y":6.095759088768246E-18},{"x":-8.69999998062849,"y":1.4622966039445915E-17},{"x":-8.599999979138374,"y":3.472963371650442E-17},{"x":-8.499999977648258,"y":8.166237183171215E-17},{"x":-8.399999976158142,"y":1.9010819186406572E-16},{"x":-8.299999974668026,"y":4.381640356772747E-16},{"x":-8.19999997317791,"y":9.998380947552197E-16},{"x":-8.099999971687794,"y":2.258809921164568E-15},{"x":-7.999999970197678,"y":5.052272288092329E-15},{"x":-7.8999999687075615,"y":1.1187958980129797E-14},{"x":-7.799999967217445,"y":2.4528559129012343E-14},{"x":-7.699999965727329,"y":5.3241497772935884E-14},{"x":-7.599999964237213,"y":1.1441568011586872E-13},{"x":-7.499999962747097,"y":2.434321213170405E-13},{"x":-7.399999961256981,"y":5.127755106915338E-13},{"x":-7.299999959766865,"y":1.0693841012342433E-12},{"x":-7.199999958276749,"y":2.2079906264337873E-12},{"x":-7.0999999567866325,"y":4.513545062028217E-12},{"x":-6.999999955296516,"y":9.134723266841807E-12},{"x":-6.8999999538064,"y":1.8303328004081402E-11},{"x":-6.799999952316284,"y":3.630962679128586E-11},{"x":-6.699999950826168,"y":7.131330473517147E-11},{"x":-6.599999949336052,"y":1.3866804578463E-10},{"x":-6.499999947845936,"y":2.669557519746481E-10},{"x":-6.39999994635582,"y":5.088142028519688E-10},{"x":-6.299999944865704,"y":9.601436705332996E-10},{"x":-6.1999999433755875,"y":1.7937845377103406E-9},{"x":-6.099999941885471,"y":3.317885419732901E-9},{"x":-5.999999940395355,"y":6.075885022728709E-9},{"x":-5.899999938905239,"y":1.1015767595415157E-8},{"x":-5.799999937415123,"y":1.977320358376372E-8},{"x":-5.699999935925007,"y":3.5139563782135644E-8},{"x":-5.599999934434891,"y":6.182622770205707E-8},{"x":-5.499999932944775,"y":1.0769764014471768E-7},{"x":-5.3999999314546585,"y":1.8573625320483248E-7},{"x":-5.299999929964542,"y":3.1713503938827233E-7},{"x":-5.199999928474426,"y":5.361037338643848E-7},{"x":-5.09999992698431,"y":8.972438503539499E-7},{"x":-4.999999925494194,"y":1.4867200685805742E-6},{"x":-4.899999924004078,"y":2.438961654113769E-6},{"x":-4.799999922513962,"y":3.961300564370127E-6},{"x":-4.699999921023846,"y":6.369827543269707E-6},{"x":-4.5999999195337296,"y":1.0140855819071512E-5},{"x":-4.499999918043613,"y":1.5983747001769997E-5},{"x":-4.399999916553497,"y":2.4942480448047956E-5},{"x":-4.299999915063381,"y":3.853521081620162E-5},{"x":-4.199999913573265,"y":5.894308915242249E-5},{"x":-4.099999912083149,"y":8.926168935231399E-5},{"x":-3.999999910593033,"y":1.3383027362631186E-4},{"x":-3.8999999091029167,"y":1.9865554181587564E-4},{"x":-3.7999999076128006,"y":2.919470282856806E-4},{"x":-3.6999999061226845,"y":4.247804180965321E-4},{"x":-3.5999999046325684,"y":6.119021401936613E-4},{"x":-3.4999999031424522,"y":8.726829908864767E-4},{"x":-3.399999901652336,"y":0.0012322195805050625},{"x":-3.29999990016222,"y":0.0017225695065793782},{"x":-3.199999898672104,"y":0.00238408897450381},{"x":-3.0999998971819878,"y":0.0032668200974523788},{"x":-2.9999998956918716,"y":0.00443184979877164},{"x":-2.8999998942017555,"y":0.005952534246101793},{"x":-2.7999998927116394,"y":0.007915453960840582},{"x":-2.6999998912215233,"y":0.010420937875071203},{"x":-2.599999889731407,"y":0.013582973127900846},{"x":-2.499999888241291,"y":0.017528305390919697},{"x":-2.399999886751175,"y":0.022394536381613768},{"x":-2.299999885261059,"y":0.028327045217094907},{"x":-2.1999998837709427,"y":0.03547460191722503},{"x":-2.0999998822808266,"y":0.04398360685362461},{"x":-1.9999998807907104,"y":0.05399097938563873},{"x":-1.8999998793005943,"y":0.06561582982227855},{"x":-1.7999998778104782,"y":0.07895017566528326},{"x":-1.699999876320362,"y":0.0940490971512132},{"x":-1.599999874830246,"y":0.11092085689375068},{"x":-1.4999998733401299,"y":0.12951762027291583},{"x":-1.3999998718500137,"y":0.14972749249834777},{"x":-1.2999998703598976,"y":0.17136862092892274},{"x":-1.1999998688697815,"y":0.19418608553960548},{"x":-1.0999998673796654,"y":0.21785220881334247},{"x":-0.9999998658895493,"y":0.2419707569699463},{"x":-0.8999998643994331,"y":0.2660852823719341},{"x":-0.799999862909317,"y":0.28969158453269206},{"x":-0.6999998614192009,"y":0.31225396365743946},{"x":-0.5999998599290848,"y":0.3332246308968426},{"x":-0.49999985843896866,"y":0.35206535168366226},{"x":-0.39999985694885254,"y":0.3682701613759066},{"x":-0.2999998554587364,"y":0.38138783199840354},{"x":-0.1999998539686203,"y":0.3910427053963527},{"x":-0.09999985247850418,"y":0.3969525533329109},{"x":1.4901161193847656E-7,"y":0.3989422804014283},{"x":0.10000015050172806,"y":0.3969525415028029},{"x":0.20000015199184418,"y":0.39104268208839155},{"x":0.3000001534819603,"y":0.38138779789967514},{"x":0.4000001549720764,"y":0.3682701174746843},{"x":0.5000001564621925,"y":0.3520652992218398},{"x":0.6000001579523087,"y":0.33322457131163985},{"x":0.7000001594424248,"y":0.3122538985161923},{"x":0.8000001609325409,"y":0.2896915154648433},{"x":0.900000162422657,"y":0.26608521100230825},{"x":1.0000001639127731,"y":0.24197068485705092},{"x":1.1000001654028893,"y":0.21785213739583373},{"x":1.2000001668930054,"y":0.19418601609326097},{"x":1.3000001683831215,"y":0.17136855453555708},{"x":1.4000001698732376,"y":0.14972743002718186},{"x":1.5000001713633537,"y":0.12951756237403977},{"x":1.6000001728534698,"y":0.11092080400257631},{"x":1.700000174343586,"y":0.09404904950223884},{"x":1.800000175833702,"y":0.0789501333131194},{"x":1.9000001773238182,"y":0.06561579266771035},{"x":2.0000001788139343,"y":0.05399094720451637},{"x":2.1000001803040504,"y":0.04398357932654656},{"x":2.2000001817941666,"y":0.035474578658270806},{"x":2.3000001832842827,"y":0.02832702580023139},{"x":2.400000184774399,"y":0.022394520363798628},{"x":2.500000186264515,"y":0.017528292331319164},{"x":2.600000187754631,"y":0.01358296260299702},{"x":2.700000189244747,"y":0.010420929489734398},{"x":2.8000001907348633,"y":0.007915447355673738},{"x":2.9000001922249794,"y":0.005952529101522948},{"x":3.0000001937150955,"y":0.004431845836390858},{"x":3.1000001952052116,"y":0.0032668170793301293},{"x":3.2000001966953278,"y":0.0023840867008604375},{"x":3.300000198185444,"y":0.0017225678124733186},{"x":3.40000019967556,"y":0.0012322183319235002},{"x":3.500000201165676,"y":8.726820806076433E-4},{"x":3.6000002026557922,"y":6.11901483694229E-4},{"x":3.7000002041459084,"y":4.247799496973935E-4},{"x":3.8000002056360245,"y":2.9194669765928355E-4},{"x":3.9000002071261406,"y":1.986553109205429E-4},{"x":4.000000208616257,"y":1.3383011408828617E-4},{"x":4.100000210106373,"y":8.926158028394767E-5},{"x":4.200000211596489,"y":5.89430153735478E-5},{"x":4.300000213086605,"y":3.853516143336514E-5},{"x":4.400000214576721,"y":2.49424477409398E-5},{"x":4.500000216066837,"y":1.598372556590891E-5},{"x":4.600000217556953,"y":1.0140841916912323E-5},{"x":4.7000002190470695,"y":6.369818621000094E-6},{"x":4.800000220537186,"y":3.961294897688184E-6},{"x":4.900000222027302,"y":2.438958092466959E-6},{"x":5.000000223517418,"y":1.486717853196654E-6},{"x":5.100000225007534,"y":8.972424866174907E-7},{"x":5.20000022649765,"y":5.361029030539281E-7},{"x":5.300000227987766,"y":3.1713453846654435E-7},{"x":5.400000229477882,"y":1.8573595429499707E-7},{"x":5.5000002309679985,"y":1.0769746361467112E-7},{"x":5.600000232458115,"y":6.182612451849211E-8},{"x":5.700000233948231,"y":3.5139504089470796E-8},{"x":5.800000235438347,"y":1.9773169405124277E-8},{"x":5.900000236928463,"y":1.1015748225999898E-8},{"x":6.000000238418579,"y":6.075874158209196E-9},{"x":6.100000239908695,"y":3.3178793880161435E-9},{"x":6.200000241398811,"y":1.7937812232587628E-9},{"x":6.3000002428889275,"y":9.601418678207619E-10},{"x":6.400000244379044,"y":5.088132323668056E-10},{"x":6.50000024586916,"y":2.6695523484155055E-10},{"x":6.600000247359276,"y":1.3866777303132667E-10},{"x":6.700000248849392,"y":7.131316234007104E-11},{"x":6.800000250339508,"y":3.6309553207797556E-11},{"x":6.900000251829624,"y":1.8303290365883527E-11},{"x":7.00000025331974,"y":9.134704210343653E-12},{"x":7.100000254809856,"y":4.513535511535298E-12},{"x":7.2000002562999725,"y":2.207985888604909E-12},{"x":7.300000257790089,"y":1.0693817747172687E-12},{"x":7.400000259280205,"y":5.127743798320842E-13},{"x":7.500000260770321,"y":2.43431577204448E-13},{"x":7.600000262260437,"y":1.1441542096733125E-13},{"x":7.700000263750553,"y":5.3241375595612546E-14},{"x":7.800000265240669,"y":2.4528502110451645E-14},{"x":7.900000266730785,"y":1.1187932639414735E-14},{"x":8.000000268220901,"y":5.052260242550707E-15},{"x":8.100000269711018,"y":2.258804468430769E-15},{"x":8.200000271201134,"y":9.998356513633965E-16},{"x":8.30000027269125,"y":4.3816295183921413E-16},{"x":8.400000274181366,"y":1.9010771594874242E-16},{"x":8.500000275671482,"y":8.166216496506302E-17},{"x":8.600000277161598,"y":3.472954470457533E-17},{"x":8.700000278651714,"y":1.4622928125038152E-17},{"x":8.80000028014183,"y":6.0957431020245245E-18},{"x":8.900000281631947,"y":2.5157994710308416E-18},{"x":9.000000283122063,"y":1.0279747377825572E-18},{"x":9.100000284612179,"y":4.1585882084788674E-19},{"x":9.200000286102295,"y":1.6655836483228813E-19},{"x":9.300000287592411,"y":6.604562196091144E-20},{"x":9.400000289082527,"y":2.5928576553221707E-20},{"x":9.500000290572643,"y":1.0077907574800877E-20},{"x":9.60000029206276,"y":3.878101058302129E-21},{"x":9.700000293552876,"y":1.4774912855965886E-21},{"x":9.800000295042992,"y":5.572983908852721E-22},{"x":9.900000296533108,"y":2.0811707105471916E-22}]}],"marks":[{"type":"line","from":{"data":"04843c71-56f8-47bc-8955-b3162a3c8cfb"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"line","from":{"data":"d8c25a69-dc40-4b15-a2ea-8bc75aff8470"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"04843c71-56f8-47bc-8955-b3162a3c8cfb\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"04843c71-56f8-47bc-8955-b3162a3c8cfb\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"04843c71-56f8-47bc-8955-b3162a3c8cfb\", :values ({:x -4.5908089056010555, :y 0} {:x -4.492261359850543, :y 2.029477228244009E-5} {:x -4.393713814100031, :y 3.044215842366014E-5} {:x -4.295166268349519, :y 4.058954456488018E-5} {:x -4.196618722599006, :y 6.088431684732028E-5} {:x -4.098071176848494, :y 5.073693070610023E-5} {:x -3.9995236310979814, :y 1.116212475534205E-4} {:x -3.9009760853474686, :y 1.9280033668318087E-4} {:x -3.802428539596956, :y 1.2176863369464056E-4} {:x -3.703880993846443, :y 3.2471635651904146E-4} {:x -3.6053334480959305, :y 6.798748714617431E-4} {:x -3.5067859023454178, :y 7.914961190151636E-4} {:x -3.408238356594905, :y 0.001106065089392985} {:x -3.3096908108443923, :y 0.0011872441785227455} {:x -3.2111432650938796, :y 0.001958445525255469} {:x -3.112595719343367, :y 0.0026890573274233123} {:x -3.014048173592854, :y 0.003642911624697997} {:x -2.9155006278423414, :y 0.004688092397243661} {:x -2.8169530820918287, :y 0.00644359019967473} {:x -2.718405536341316, :y 0.00856439390318972} {:x -2.6198579905908033, :y 0.01102006134936497} {:x -2.5213104448402905, :y 0.014328109231402706} {:x -2.422762899089778, :y 0.018813253905821965} {:x -2.324215353339265, :y 0.023328840738664886} {:x -2.2256678075887524, :y 0.03064510614648454} {:x -2.1271202618382397, :y 0.03789033985131565} {:x -2.028572716087727, :y 0.046211196487116094} {:x -1.9300251703372144, :y 0.056368730014477356} {:x -1.831477624586702, :y 0.06715540148259427} {:x -1.7329300788361894, :y 0.0807326041395467} {:x -1.634382533085677, :y 0.09710033798533463} {:x -1.5358349873351644, :y 0.11495973759388191} {:x -1.437287441584652, :y 0.12985610044919293} {:x -1.3387398958341394, :y 0.1532762676631288} {:x -1.240192350083627, :y 0.17356089255942767} {:x -1.1416448043331144, :y 0.1973159235160238} {:x -1.043097258582602, :y 0.21983297336339108} {:x -0.9445497128320893, :y 0.24174118004228518} {:x -0.8460021670815767, :y 0.26634859143474376} {:x -0.7474546213310641, :y 0.28759721801445853} {:x -0.6489070755805515, :y 0.3146704442392336} {:x -0.5503595298300389, :y 0.3321239484021321} {:x -0.4518119840795263, :y 0.3547932090416177} {:x -0.35326443832901366, :y 0.3655798805097346} {:x -0.25471689257850105, :y 0.37976592633516026} {:x -0.15616934682798844, :y 0.39303870740787605} {:x -0.057621801077475845, :y 0.396955598458387} {:x 0.04092574467303675, :y 0.39876183319152414} {:x 0.13947329042354933, :y 0.39955332931053933} {:x 0.23802083617406194, :y 0.38964948043670855} {:x 0.33656838192457456, :y 0.38468740861365197} {:x 0.43511592767508717, :y 0.36816746397574573} {:x 0.5336634734255997, :y 0.354438050526675} {:x 0.6322110191761123, :y 0.33799928497789855} {:x 0.7307585649266249, :y 0.31704493259627914} {:x 0.8293061106771376, :y 0.29527878932336216} {:x 0.9278536564276502, :y 0.2707119674754684} {:x 1.0264012021781628, :y 0.2470787051525669} {:x 1.1249487479286753, :y 0.22454136053291718} {:x 1.2234962936791878, :y 0.1999339491404586} {:x 1.3220438394297003, :y 0.17689938259988908} {:x 1.4205913851802128, :y 0.1545852804753462} {:x 1.5191389309307253, :y 0.1353052468070281} {:x 1.6176864766812378, :y 0.11752702628761058} {:x 1.7162340224317503, :y 0.09953571065922744} {:x 1.8147815681822628, :y 0.08432477883353859} {:x 1.9133291139327753, :y 0.07018946993881905} {:x 2.011876659683288, :y 0.05744435294544668} {:x 2.1104242054338007, :y 0.047641977933028115} {:x 2.2089717511843134, :y 0.03970672197059404} {:x 2.307519296934826, :y 0.031203212384251642} {:x 2.406066842685339, :y 0.025246696719355477} {:x 2.5046143884358516, :y 0.01969607650010811} {:x 2.6031619341863643, :y 0.016276407370516954} {:x 2.701709479936877, :y 0.011811557468380134} {:x 2.8002570256873898, :y 0.00884852071514388} {:x 2.8988045714379025, :y 0.006676980080922791} {:x 2.997352117188415, :y 0.005307082951858084} {:x 3.095899662938928, :y 0.0038560067336636176} {:x 3.1944472086894407, :y 0.0029731841393774738} {:x 3.2929947544399534, :y 0.0019178559806905888} {:x 3.391542300190466, :y 0.0014409288320532466} {:x 3.490089845940979, :y 9.234121388510242E-4} {:x 3.5886373916914915, :y 6.291379407556429E-4} {:x 3.6871849374420043, :y 6.494327130380829E-4} {:x 3.785732483192517, :y 3.3486374266026154E-4} {:x 3.8842800289430297, :y 2.841268119541613E-4} {:x 3.9828275746935424, :y 1.9280033668318087E-4} {:x 4.081375120444055, :y 1.6235817825952073E-4} {:x 4.179922666194567, :y 1.116212475534205E-4} {:x 4.27847021194508, :y 3.044215842366014E-5} {:x 4.377017757695592, :y 2.029477228244009E-5} {:x 4.475565303446104, :y 1.0147386141220046E-5} {:x 4.5741128491966165, :y 1.0147386141220046E-5} {:x 4.672660394947129, :y 1.0147386141220046E-5} {:x 4.771207940697641, :y 0.0} {:x 4.869755486448153, :y 2.029477228244009E-5} {:x 4.968303032198666, :y 0.0} {:x 5.066850577949178, :y 0.0} {:x 5.16539812369969, :y 1.0147386141220046E-5} {:x 5.2639456694502025, :y 0.0} {:x 5.362493215200715, :y 1.0147386141220046E-5} {:x 5.461040760951227, :y 0})} {:name \"d8c25a69-dc40-4b15-a2ea-8bc75aff8470\", :values ({:x -10, :y 7.69459862670642E-23} {:x -9.899999998509884, :y 2.0811768509046641E-22} {:x -9.799999997019768, :y 5.573000185487313E-22} {:x -9.699999995529652, :y 1.4774955567719825E-21} {:x -9.599999994039536, :y 3.878112153654294E-21} {:x -9.49999999254942, :y 1.00779361076215E-20} {:x -9.399999991059303, :y 2.5928649190113523E-20} {:x -9.299999989569187, :y 6.604580501426931E-20} {:x -9.199999988079071, :y 1.6655882150492112E-19} {:x -9.099999986588955, :y 4.1585994866327067E-19} {:x -8.999999985098839, :y 1.0279774950294077E-18} {:x -8.899999983608723, :y 2.5158061439631523E-18} {:x -8.799999982118607, :y 6.095759088768246E-18} {:x -8.69999998062849, :y 1.4622966039445915E-17} {:x -8.599999979138374, :y 3.472963371650442E-17} {:x -8.499999977648258, :y 8.166237183171215E-17} {:x -8.399999976158142, :y 1.9010819186406572E-16} {:x -8.299999974668026, :y 4.381640356772747E-16} {:x -8.19999997317791, :y 9.998380947552197E-16} {:x -8.099999971687794, :y 2.258809921164568E-15} {:x -7.999999970197678, :y 5.052272288092329E-15} {:x -7.8999999687075615, :y 1.1187958980129797E-14} {:x -7.799999967217445, :y 2.4528559129012343E-14} {:x -7.699999965727329, :y 5.3241497772935884E-14} {:x -7.599999964237213, :y 1.1441568011586872E-13} {:x -7.499999962747097, :y 2.434321213170405E-13} {:x -7.399999961256981, :y 5.127755106915338E-13} {:x -7.299999959766865, :y 1.0693841012342433E-12} {:x -7.199999958276749, :y 2.2079906264337873E-12} {:x -7.0999999567866325, :y 4.513545062028217E-12} {:x -6.999999955296516, :y 9.134723266841807E-12} {:x -6.8999999538064, :y 1.8303328004081402E-11} {:x -6.799999952316284, :y 3.630962679128586E-11} {:x -6.699999950826168, :y 7.131330473517147E-11} {:x -6.599999949336052, :y 1.3866804578463E-10} {:x -6.499999947845936, :y 2.669557519746481E-10} {:x -6.39999994635582, :y 5.088142028519688E-10} {:x -6.299999944865704, :y 9.601436705332996E-10} {:x -6.1999999433755875, :y 1.7937845377103406E-9} {:x -6.099999941885471, :y 3.317885419732901E-9} {:x -5.999999940395355, :y 6.075885022728709E-9} {:x -5.899999938905239, :y 1.1015767595415157E-8} {:x -5.799999937415123, :y 1.977320358376372E-8} {:x -5.699999935925007, :y 3.5139563782135644E-8} {:x -5.599999934434891, :y 6.182622770205707E-8} {:x -5.499999932944775, :y 1.0769764014471768E-7} {:x -5.3999999314546585, :y 1.8573625320483248E-7} {:x -5.299999929964542, :y 3.1713503938827233E-7} {:x -5.199999928474426, :y 5.361037338643848E-7} {:x -5.09999992698431, :y 8.972438503539499E-7} {:x -4.999999925494194, :y 1.4867200685805742E-6} {:x -4.899999924004078, :y 2.438961654113769E-6} {:x -4.799999922513962, :y 3.961300564370127E-6} {:x -4.699999921023846, :y 6.369827543269707E-6} {:x -4.5999999195337296, :y 1.0140855819071512E-5} {:x -4.499999918043613, :y 1.5983747001769997E-5} {:x -4.399999916553497, :y 2.4942480448047956E-5} {:x -4.299999915063381, :y 3.853521081620162E-5} {:x -4.199999913573265, :y 5.894308915242249E-5} {:x -4.099999912083149, :y 8.926168935231399E-5} {:x -3.999999910593033, :y 1.3383027362631186E-4} {:x -3.8999999091029167, :y 1.9865554181587564E-4} {:x -3.7999999076128006, :y 2.919470282856806E-4} {:x -3.6999999061226845, :y 4.247804180965321E-4} {:x -3.5999999046325684, :y 6.119021401936613E-4} {:x -3.4999999031424522, :y 8.726829908864767E-4} {:x -3.399999901652336, :y 0.0012322195805050625} {:x -3.29999990016222, :y 0.0017225695065793782} {:x -3.199999898672104, :y 0.00238408897450381} {:x -3.0999998971819878, :y 0.0032668200974523788} {:x -2.9999998956918716, :y 0.00443184979877164} {:x -2.8999998942017555, :y 0.005952534246101793} {:x -2.7999998927116394, :y 0.007915453960840582} {:x -2.6999998912215233, :y 0.010420937875071203} {:x -2.599999889731407, :y 0.013582973127900846} {:x -2.499999888241291, :y 0.017528305390919697} {:x -2.399999886751175, :y 0.022394536381613768} {:x -2.299999885261059, :y 0.028327045217094907} {:x -2.1999998837709427, :y 0.03547460191722503} {:x -2.0999998822808266, :y 0.04398360685362461} {:x -1.9999998807907104, :y 0.05399097938563873} {:x -1.8999998793005943, :y 0.06561582982227855} {:x -1.7999998778104782, :y 0.07895017566528326} {:x -1.699999876320362, :y 0.0940490971512132} {:x -1.599999874830246, :y 0.11092085689375068} {:x -1.4999998733401299, :y 0.12951762027291583} {:x -1.3999998718500137, :y 0.14972749249834777} {:x -1.2999998703598976, :y 0.17136862092892274} {:x -1.1999998688697815, :y 0.19418608553960548} {:x -1.0999998673796654, :y 0.21785220881334247} {:x -0.9999998658895493, :y 0.2419707569699463} {:x -0.8999998643994331, :y 0.2660852823719341} {:x -0.799999862909317, :y 0.28969158453269206} {:x -0.6999998614192009, :y 0.31225396365743946} {:x -0.5999998599290848, :y 0.3332246308968426} {:x -0.49999985843896866, :y 0.35206535168366226} {:x -0.39999985694885254, :y 0.3682701613759066} {:x -0.2999998554587364, :y 0.38138783199840354} {:x -0.1999998539686203, :y 0.3910427053963527} {:x -0.09999985247850418, :y 0.3969525533329109} {:x 1.4901161193847656E-7, :y 0.3989422804014283} {:x 0.10000015050172806, :y 0.3969525415028029} {:x 0.20000015199184418, :y 0.39104268208839155} {:x 0.3000001534819603, :y 0.38138779789967514} {:x 0.4000001549720764, :y 0.3682701174746843} {:x 0.5000001564621925, :y 0.3520652992218398} {:x 0.6000001579523087, :y 0.33322457131163985} {:x 0.7000001594424248, :y 0.3122538985161923} {:x 0.8000001609325409, :y 0.2896915154648433} {:x 0.900000162422657, :y 0.26608521100230825} {:x 1.0000001639127731, :y 0.24197068485705092} {:x 1.1000001654028893, :y 0.21785213739583373} {:x 1.2000001668930054, :y 0.19418601609326097} {:x 1.3000001683831215, :y 0.17136855453555708} {:x 1.4000001698732376, :y 0.14972743002718186} {:x 1.5000001713633537, :y 0.12951756237403977} {:x 1.6000001728534698, :y 0.11092080400257631} {:x 1.700000174343586, :y 0.09404904950223884} {:x 1.800000175833702, :y 0.0789501333131194} {:x 1.9000001773238182, :y 0.06561579266771035} {:x 2.0000001788139343, :y 0.05399094720451637} {:x 2.1000001803040504, :y 0.04398357932654656} {:x 2.2000001817941666, :y 0.035474578658270806} {:x 2.3000001832842827, :y 0.02832702580023139} {:x 2.400000184774399, :y 0.022394520363798628} {:x 2.500000186264515, :y 0.017528292331319164} {:x 2.600000187754631, :y 0.01358296260299702} {:x 2.700000189244747, :y 0.010420929489734398} {:x 2.8000001907348633, :y 0.007915447355673738} {:x 2.9000001922249794, :y 0.005952529101522948} {:x 3.0000001937150955, :y 0.004431845836390858} {:x 3.1000001952052116, :y 0.0032668170793301293} {:x 3.2000001966953278, :y 0.0023840867008604375} {:x 3.300000198185444, :y 0.0017225678124733186} {:x 3.40000019967556, :y 0.0012322183319235002} {:x 3.500000201165676, :y 8.726820806076433E-4} {:x 3.6000002026557922, :y 6.11901483694229E-4} {:x 3.7000002041459084, :y 4.247799496973935E-4} {:x 3.8000002056360245, :y 2.9194669765928355E-4} {:x 3.9000002071261406, :y 1.986553109205429E-4} {:x 4.000000208616257, :y 1.3383011408828617E-4} {:x 4.100000210106373, :y 8.926158028394767E-5} {:x 4.200000211596489, :y 5.89430153735478E-5} {:x 4.300000213086605, :y 3.853516143336514E-5} {:x 4.400000214576721, :y 2.49424477409398E-5} {:x 4.500000216066837, :y 1.598372556590891E-5} {:x 4.600000217556953, :y 1.0140841916912323E-5} {:x 4.7000002190470695, :y 6.369818621000094E-6} {:x 4.800000220537186, :y 3.961294897688184E-6} {:x 4.900000222027302, :y 2.438958092466959E-6} {:x 5.000000223517418, :y 1.486717853196654E-6} {:x 5.100000225007534, :y 8.972424866174907E-7} {:x 5.20000022649765, :y 5.361029030539281E-7} {:x 5.300000227987766, :y 3.1713453846654435E-7} {:x 5.400000229477882, :y 1.8573595429499707E-7} {:x 5.5000002309679985, :y 1.0769746361467112E-7} {:x 5.600000232458115, :y 6.182612451849211E-8} {:x 5.700000233948231, :y 3.5139504089470796E-8} {:x 5.800000235438347, :y 1.9773169405124277E-8} {:x 5.900000236928463, :y 1.1015748225999898E-8} {:x 6.000000238418579, :y 6.075874158209196E-9} {:x 6.100000239908695, :y 3.3178793880161435E-9} {:x 6.200000241398811, :y 1.7937812232587628E-9} {:x 6.3000002428889275, :y 9.601418678207619E-10} {:x 6.400000244379044, :y 5.088132323668056E-10} {:x 6.50000024586916, :y 2.6695523484155055E-10} {:x 6.600000247359276, :y 1.3866777303132667E-10} {:x 6.700000248849392, :y 7.131316234007104E-11} {:x 6.800000250339508, :y 3.6309553207797556E-11} {:x 6.900000251829624, :y 1.8303290365883527E-11} {:x 7.00000025331974, :y 9.134704210343653E-12} {:x 7.100000254809856, :y 4.513535511535298E-12} {:x 7.2000002562999725, :y 2.207985888604909E-12} {:x 7.300000257790089, :y 1.0693817747172687E-12} {:x 7.400000259280205, :y 5.127743798320842E-13} {:x 7.500000260770321, :y 2.43431577204448E-13} {:x 7.600000262260437, :y 1.1441542096733125E-13} {:x 7.700000263750553, :y 5.3241375595612546E-14} {:x 7.800000265240669, :y 2.4528502110451645E-14} {:x 7.900000266730785, :y 1.1187932639414735E-14} {:x 8.000000268220901, :y 5.052260242550707E-15} {:x 8.100000269711018, :y 2.258804468430769E-15} {:x 8.200000271201134, :y 9.998356513633965E-16} {:x 8.30000027269125, :y 4.3816295183921413E-16} {:x 8.400000274181366, :y 1.9010771594874242E-16} {:x 8.500000275671482, :y 8.166216496506302E-17} {:x 8.600000277161598, :y 3.472954470457533E-17} {:x 8.700000278651714, :y 1.4622928125038152E-17} {:x 8.80000028014183, :y 6.0957431020245245E-18} {:x 8.900000281631947, :y 2.5157994710308416E-18} {:x 9.000000283122063, :y 1.0279747377825572E-18} {:x 9.100000284612179, :y 4.1585882084788674E-19} {:x 9.200000286102295, :y 1.6655836483228813E-19} {:x 9.300000287592411, :y 6.604562196091144E-20} {:x 9.400000289082527, :y 2.5928576553221707E-20} {:x 9.500000290572643, :y 1.0077907574800877E-20} {:x 9.60000029206276, :y 3.878101058302129E-21} {:x 9.700000293552876, :y 1.4774912855965886E-21} {:x 9.800000295042992, :y 5.572983908852721E-22} {:x 9.900000296533108, :y 2.0811707105471916E-22})}), :marks ({:type \"line\", :from {:data \"04843c71-56f8-47bc-8955-b3162a3c8cfb\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"line\", :from {:data \"d8c25a69-dc40-4b15-a2ea-8bc75aff8470\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@
(def n 10000)
(println "Taking" n "samples")

(println "Normal simulated with the rejection method and Exp(1)")
(with-progress-reporting
  (bench (doall (take n (std-normal-exp)))))

(println "Normal simulated with the Box-Muller approach")
(with-progress-reporting
  (bench (doall (take n (std-normal-polar)))))

;; @@
;; ->
;;; Taking 10000 samples
;;; Normal simulated with the rejection method and Exp(1)
;;; Warming up for JIT optimisations 10000000000 ...
;;; Estimating execution count ...
;;; Sampling ...
;;; Final GC...
;;; Checking GC...
;;; WARNING: Final GC required 2.984032606499539 % of runtime
;;; Finding outliers ...
;;; Bootstrapping ...
;;; Checking outlier significance
;;; Evaluation count : 3420 in 60 samples of 57 calls.
;;;              Execution time mean : 18.281333 ms
;;;     Execution time std-deviation : 855.713018 µs
;;;    Execution time lower quantile : 17.446751 ms ( 2.5%)
;;;    Execution time upper quantile : 20.489225 ms (97.5%)
;;;                    Overhead used : 3.463674 ns
;;; 
;;; Found 9 outliers in 60 samples (15.0000 %)
;;; 	low-severe	 4 (6.6667 %)
;;; 	low-mild	 5 (8.3333 %)
;;;  Variance from outliers : 33.5440 % Variance is moderately inflated by outliers
;;; Normal simulated with the Box-Muller approach
;;; Warming up for JIT optimisations 10000000000 ...
;;; Estimating execution count ...
;;; Sampling ...
;;; Final GC...
;;; Checking GC...
;;; WARNING: Final GC required 4.412132218122998 % of runtime
;;; Finding outliers ...
;;; Bootstrapping ...
;;; Checking outlier significance
;;; Evaluation count : 2040 in 60 samples of 34 calls.
;;;              Execution time mean : 32.563200 ms
;;;     Execution time std-deviation : 4.362299 ms
;;;    Execution time lower quantile : 30.197471 ms ( 2.5%)
;;;    Execution time upper quantile : 41.967291 ms (97.5%)
;;;                    Overhead used : 3.463674 ns
;;; 
;;; Found 11 outliers in 60 samples (18.3333 %)
;;; 	low-severe	 5 (8.3333 %)
;;; 	low-mild	 6 (10.0000 %)
;;;  Variance from outliers : 80.6989 % Variance is severely inflated by outliers
;;; 
;; <-
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(defn avg [coll]
  (/ (apply + coll)
     (count coll)))

(defn std-err [mu X]
  (let [n (count X)]
    (/ (distance X mu) ;; Euclidean distance, built into core.matrix
       n)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;distribution-simulations/std-err</span>","value":"#'distribution-simulations/std-err"}
;; <=

;; @@
(def Z (std-normal-exp))
(def X (map #(Math/exp (- (** % 4)))
            Z))

(println (take 10 X))

(def m 1000000)
(def sample (take m X))
(def mu (avg sample))

(println "--- max" (apply max sample))
(println "--- avg" (float mu))
(println "--- std-err" (std-err mu sample))

(plot/histogram sample :bins 50)
;; @@
;; ->
;;; (0.7756697614257689 0.6069777772308228 0.8075702198317515 0.055806388685609505 0.9999997384166721 0.958210607256773 0.9999869324893239 0.9997092116045664 0.9986490004627284 0.5821274539621352)
;;; --- max 1.0
;;; --- avg 0.62061745
;;; --- std-err 3.989798187446923E-4
;;; 
;; <-
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"ccb473dd-132f-497d-98af-994e1dbe4010","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"ccb473dd-132f-497d-98af-994e1dbe4010","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"ccb473dd-132f-497d-98af-994e1dbe4010"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"interpolate":{"value":"step-before"},"fill":{"value":"steelblue"},"fillOpacity":{"value":0.4},"stroke":{"value":"steelblue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"ccb473dd-132f-497d-98af-994e1dbe4010","values":[{"x":0.0,"y":0},{"x":0.020000000000000004,"y":159607.0},{"x":0.04000000000000001,"y":20891.0},{"x":0.06000000000000001,"y":14772.0},{"x":0.08000000000000002,"y":12126.0},{"x":0.10000000000000002,"y":10574.0},{"x":0.12000000000000002,"y":9409.0},{"x":0.14,"y":8775.0},{"x":0.16000000000000003,"y":8360.0},{"x":0.18000000000000005,"y":7873.0},{"x":0.20000000000000007,"y":7522.0},{"x":0.22000000000000008,"y":7205.0},{"x":0.2400000000000001,"y":7062.0},{"x":0.2600000000000001,"y":6888.0},{"x":0.28000000000000014,"y":6786.0},{"x":0.30000000000000016,"y":6865.0},{"x":0.3200000000000002,"y":6637.0},{"x":0.3400000000000002,"y":6536.0},{"x":0.3600000000000002,"y":6601.0},{"x":0.3800000000000002,"y":6407.0},{"x":0.40000000000000024,"y":6529.0},{"x":0.42000000000000026,"y":6668.0},{"x":0.4400000000000003,"y":6648.0},{"x":0.4600000000000003,"y":6819.0},{"x":0.4800000000000003,"y":6680.0},{"x":0.5000000000000003,"y":6677.0},{"x":0.5200000000000004,"y":6973.0},{"x":0.5400000000000004,"y":7098.0},{"x":0.5600000000000004,"y":7366.0},{"x":0.5800000000000004,"y":7333.0},{"x":0.6000000000000004,"y":7743.0},{"x":0.6200000000000004,"y":7616.0},{"x":0.6400000000000005,"y":8179.0},{"x":0.6600000000000005,"y":8377.0},{"x":0.6800000000000005,"y":8741.0},{"x":0.7000000000000005,"y":8817.0},{"x":0.7200000000000005,"y":9446.0},{"x":0.7400000000000005,"y":9763.0},{"x":0.7600000000000006,"y":10289.0},{"x":0.7800000000000006,"y":11021.0},{"x":0.8000000000000006,"y":11774.0},{"x":0.8200000000000006,"y":12588.0},{"x":0.8400000000000006,"y":13596.0},{"x":0.8600000000000007,"y":15059.0},{"x":0.8800000000000007,"y":16573.0},{"x":0.9000000000000007,"y":19167.0},{"x":0.9200000000000007,"y":22058.0},{"x":0.9400000000000007,"y":27038.0},{"x":0.9600000000000007,"y":35423.0},{"x":0.9800000000000008,"y":53334.0},{"x":1.0000000000000007,"y":293711.0},{"x":1.0200000000000007,"y":0}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"ccb473dd-132f-497d-98af-994e1dbe4010\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"ccb473dd-132f-497d-98af-994e1dbe4010\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"ccb473dd-132f-497d-98af-994e1dbe4010\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :interpolate {:value \"step-before\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 0.4}, :stroke {:value \"steelblue\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"ccb473dd-132f-497d-98af-994e1dbe4010\", :values ({:x 0.0, :y 0} {:x 0.020000000000000004, :y 159607.0} {:x 0.04000000000000001, :y 20891.0} {:x 0.06000000000000001, :y 14772.0} {:x 0.08000000000000002, :y 12126.0} {:x 0.10000000000000002, :y 10574.0} {:x 0.12000000000000002, :y 9409.0} {:x 0.14, :y 8775.0} {:x 0.16000000000000003, :y 8360.0} {:x 0.18000000000000005, :y 7873.0} {:x 0.20000000000000007, :y 7522.0} {:x 0.22000000000000008, :y 7205.0} {:x 0.2400000000000001, :y 7062.0} {:x 0.2600000000000001, :y 6888.0} {:x 0.28000000000000014, :y 6786.0} {:x 0.30000000000000016, :y 6865.0} {:x 0.3200000000000002, :y 6637.0} {:x 0.3400000000000002, :y 6536.0} {:x 0.3600000000000002, :y 6601.0} {:x 0.3800000000000002, :y 6407.0} {:x 0.40000000000000024, :y 6529.0} {:x 0.42000000000000026, :y 6668.0} {:x 0.4400000000000003, :y 6648.0} {:x 0.4600000000000003, :y 6819.0} {:x 0.4800000000000003, :y 6680.0} {:x 0.5000000000000003, :y 6677.0} {:x 0.5200000000000004, :y 6973.0} {:x 0.5400000000000004, :y 7098.0} {:x 0.5600000000000004, :y 7366.0} {:x 0.5800000000000004, :y 7333.0} {:x 0.6000000000000004, :y 7743.0} {:x 0.6200000000000004, :y 7616.0} {:x 0.6400000000000005, :y 8179.0} {:x 0.6600000000000005, :y 8377.0} {:x 0.6800000000000005, :y 8741.0} {:x 0.7000000000000005, :y 8817.0} {:x 0.7200000000000005, :y 9446.0} {:x 0.7400000000000005, :y 9763.0} {:x 0.7600000000000006, :y 10289.0} {:x 0.7800000000000006, :y 11021.0} {:x 0.8000000000000006, :y 11774.0} {:x 0.8200000000000006, :y 12588.0} {:x 0.8400000000000006, :y 13596.0} {:x 0.8600000000000007, :y 15059.0} {:x 0.8800000000000007, :y 16573.0} {:x 0.9000000000000007, :y 19167.0} {:x 0.9200000000000007, :y 22058.0} {:x 0.9400000000000007, :y 27038.0} {:x 0.9600000000000007, :y 35423.0} {:x 0.9800000000000008, :y 53334.0} {:x 1.0000000000000007, :y 293711.0} {:x 1.0200000000000007, :y 0})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; @@

;; @@
